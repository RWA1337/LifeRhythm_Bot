import os
import random
import asyncio
import threading
from datetime import datetime, date
from typing import List, Dict

from flask import Flask, request, jsonify
from telegram import Update
from telegram.ext import (
    Application, ApplicationBuilder,
    CommandHandler, ContextTypes
)

# ==========
# –ù–ê–°–¢–†–û–ô–ö–ò
# ==========
BOT_TOKEN = os.getenv("BOT_TOKEN")  # –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
if not BOT_TOKEN:
    raise RuntimeError("–ù–µ –∑–∞–¥–∞–Ω BOT_TOKEN –≤ Environment Variables Render.")

# –°–µ–∫—Ä–µ—Ç –¥–ª—è URL –≤–µ–±—Ö—É–∫–∞, –∑–∞–¥–∞–π —á—Ç–æ-—Ç–æ —Å–≤–æ—ë –≤ Render ‚Üí Environment ‚Üí WEBHOOK_SECRET
WEBHOOK_SECRET = os.getenv("WEBHOOK_SECRET", "webhook-secret-change-me")

# –ü—É–±–ª–∏—á–Ω—ã–π URL —Å–µ—Ä–≤–∏—Å–∞. –ù–∞ Render –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è RENDER_EXTERNAL_URL.
PUBLIC_URL = os.getenv("RENDER_EXTERNAL_URL") or os.getenv("BASE_URL")
if not PUBLIC_URL:
    # –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ ‚Äî —É–≥–∞–¥–∞—Ç—å —Å–∞–±–¥–æ–º–µ–Ω (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–π, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    PUBLIC_URL = "https://liferhythm-bot.onrender.com"

# –ü–æ—Ä—Ç –¥–ª—è Flask (Render –ø–µ—Ä–µ–¥–∞—ë—Ç —á–µ—Ä–µ–∑ PORT)
PORT = int(os.getenv("PORT", "10000"))

# ===============
# –î–ê–ù–ù–´–ï/–ö–û–ù–¢–ï–ù–¢
# ===============

# –í–æ–¥–∞: —É—á—ë—Ç –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –¥–∞—Ç–µ (–ø–∞–º—è—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ; –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º Render –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É —Ä–µ—Å—Ç–∞—Ä—Ç–∞–º–∏)
WATER_STATE: Dict[str, int] = {}  # –∫–ª—é—á: f"{user_id}:{YYYY-MM-DD}" -> –º–ª

def day_key(user_id: int) -> str:
    return f"{user_id}:{date.today().isoformat()}"

# –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –¥–ª—è –±–∏–æ—Ä–∏—Ç–º–æ–≤ (–≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞)
USER_DOB: Dict[int, str] = {}  # user_id -> "DD.MM.YYYY"

# –ë–æ–ª—å—à–∏–µ –Ω–∞–±–æ—Ä—ã –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

EXERCISES: List[str] = [
    "üèÉ –ö–æ–º–ø–ª–µ–∫—Å ¬´–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç¬ª (7‚Äì8 –º–∏–Ω):\n1) –ü—Ä—ã–∂–∫–∏ 30—Å\n2) –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è 15\n3) –û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã 10\n4) –ü–ª–∞–Ω–∫–∞ 30—Å\n5) –ù–∞–∫–ª–æ–Ω—ã 15\n–ü–æ–≤—Ç–æ—Ä–∏—Ç—å 2 –∫—Ä—É–≥–∞.",
    "üí™ ¬´–ö–æ—Ä–ø—É—Å –∏ –ø—Ä–µ—Å—Å¬ª (10 –º–∏–Ω):\n1) –°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è 15\n2) –í–µ–ª–æ—Å–∏–ø–µ–¥ –ª—ë–∂–∞ 20\n3) –ü–ª–∞–Ω–∫–∞ 40—Å\n4) –ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ 20—Å/—Å—Ç–æ—Ä–æ–Ω–∞\n5) –ü–æ–¥—ä—ë–º—ã —Ç–∞–∑–∞ 15",
    "ü¶µ ¬´–ù–æ–≥–∏-–¥–æ–º–æ–π¬ª (12 –º–∏–Ω):\n1) –í—ã–ø–∞–¥—ã 10/–Ω–æ–≥–∞\n2) –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è 15\n3) –Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç 15\n4) –°—Ç—É–ª—å—á–∏–∫ —É —Å—Ç–µ–Ω—ã 40—Å\n5) –†–∞—Å—Ç—è–∂–∫–∞ –±—ë–¥–µ—Ä 30—Å",
    "üåÄ ¬´–°–ø–∏–Ω–∞-–æ—Å–∞–Ω–∫–∞¬ª (8‚Äì10 –º–∏–Ω):\n1) –õ–æ–¥–æ—á–∫–∞ 12\n2) –†–∞–∑–≤–µ–¥–µ–Ω–∏—è —Ä—É–∫ –ª—ë–∂–∞ 12\n3) –ö–æ—à–∫–∞-–∫–æ—Ä–æ–≤–∞ 30—Å\n4) –ü–æ–≤–æ—Ä–æ—Ç—ã –∫–æ—Ä–ø—É—Å–∞ 20\n5) –†–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É–¥–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞ 30—Å",
    "üî• ¬´–ö–∞—Ä–¥–∏–æ –¥–æ–º–∞¬ª (10 –º–∏–Ω):\n1) –ë—ë—Ä–ø–∏ (—É–ø—Ä–æ—â.) 8\n2) –ë–µ–≥ –Ω–∞ –º–µ—Å—Ç–µ 40—Å\n3) –ü—Ä—ã–∂–∫–∏ ¬´–Ω–æ–≥–∏-–≤—Ä–æ–∑—å¬ª 30—Å\n4) –í—ã—Å–æ–∫–∏–µ –∫–æ–ª–µ–Ω–∏ 30—Å\n5) –®–∞–≥–∏ –≤ –ø–ª–∞–Ω–∫–µ 20",
    "üèãÔ∏è ¬´–ì–∞–Ω—Ç–µ–ª–∏-–ª–∞–π—Ç¬ª (–µ—Å–ª–∏ –µ—Å—Ç—å 2√ó2‚Äì4 –∫–≥):\n1) –¢—è–≥–∞ –∫ –ø–æ—è—Å—É 12\n2) –ñ–∏–º —Å—Ç–æ—è 12\n3) –ë–∏—Ü–µ–ø—Å 12\n4) –¢—Ä–∏—Ü–µ–ø—Å –∑–∞ –≥–æ–ª–æ–≤—É 12\n5) –°—É–º–æ-–ø—Ä–∏—Å–µ–¥ 15",
    "üßπ ¬´–î–ª—è –æ—Ñ–∏—Å–∞¬ª (5 –º–∏–Ω):\n1) –ö—Ä—É–≥–∏ –ø–ª–µ—á–∞–º–∏ 20\n2) –°–≤–µ–¥–µ–Ω–∏–µ –ª–æ–ø–∞—Ç–æ–∫ 15\n3) –ù–∞–∫–ª–æ–Ω—ã –≤ —Å—Ç–æ—Ä–æ–Ω—ã 10/—Å—Ç–æ—Ä–æ–Ω–∞\n4) –ü–æ–ª—É–ø—Ä–∏—Å–µ–¥ 15\n5) –ü–æ—Ç—è–≥–∏–≤–∞–Ω–∏—è 30—Å",
    "‚ö° ¬´–¢–∞–±–∞—Ç–∞ 4√ó¬ª: 20—Å —Ä–∞–±–æ—Ç–∞ / 10—Å –æ—Ç–¥—ã—Ö:\n–ö—Ä—É–≥: –ø—Ä—ã–∂–∫–∏, –æ—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–æ–ª–∞, –ø—Ä–∏—Å–µ–¥, –ø–ª–∞–Ω–∫–∞. 4 —Ä–∞—É–Ω–¥–∞.",
    "üßó ¬´–ë–∞–ª–∞–Ω—Å¬ª (8 –º–∏–Ω):\n1) –°—Ç–æ–π–∫–∞ –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ 30—Å/–Ω–æ–≥–∞\n2) –ü–æ–ª—É–ø—Ä–∏—Å–µ–¥ –Ω–∞ –æ–¥–Ω–æ–π 6/–Ω–æ–≥–∞\n3) –ü–ª–∞–Ω–∫–∞ —Å –ø–æ–¥—ä—ë–º–æ–º —Ä—É–∫–∏ 8/—Å—Ç–æ—Ä–æ–Ω–∞\n4) –Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç 15",
    "üèÉ‚Äç‚ôÇÔ∏è ¬´–†–∞–∑–æ–≥—Ä–µ–≤ —É—Ç—Ä–æ–º¬ª (6 –º–∏–Ω):\n1) –ú–∞—Ö–∏ —Ä—É–∫–∞–º–∏ 30—Å\n2) –®–∞–≥–∏ —Å –∫–∞—Å–∞–Ω–∏–µ–º –∫–æ–ª–µ–Ω–∞ 30—Å\n3) –ü—Ä–∏—Å–µ–¥ 12\n4) –û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã 10\n5) –ü–ª–∞–Ω–∫–∞ 20—Å",
    "üß† ¬´–ú–æ–±–∏–ª–∏—Ç–∏ —à–µ—è/–ø–ª–µ—á–∏¬ª (6 –º–∏–Ω):\n–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∫—Ä—É–≥–∏ —à–µ–µ–π, –Ω–∞–∫–ª–æ–Ω—ã –≥–æ–ª–æ–≤—ã, –∫—Ä—É–≥–∏ –ø–ª–µ—á–∞–º–∏, ¬´–∑–∞–º–æ–∫¬ª –∑–∞ —Å–ø–∏–Ω–æ–π, –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ —Ç—Ä–∞–ø–µ—Ü–∏–π.",
    "üè† ¬´–ü–æ–ª–Ω—ã–π –∫—Ä—É–≥ 15 –º–∏–Ω¬ª:\n1) –ü—Ä–∏—Å–µ–¥ 15\n2) –û—Ç–∂–∏–º–∞–Ω–∏—è 10 (–æ—Ç —Å—Ç–æ–ª–∞)\n3) –ü–ª–∞–Ω–∫–∞ 40—Å\n4) –°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è 20\n5) –í—ã–ø–∞–¥—ã 10/–Ω–æ–≥–∞ ‚Äî 3 –∫—Ä—É–≥–∞.",
    "üî• ¬´–ñ–∏—Ä–æ—Å–∂–∏–≥–∞—é—â–∏–π¬ª (12‚Äì15 –º–∏–Ω):\n–ë—ë—Ä–ø–∏ 10, –¥–∂–∞–º–ø–∏–Ω–≥-–¥–∂–µ–∫ 40—Å, –ø—Ä–∏—Å–µ–¥-–ø—Ä—ã–∂–æ–∫ 10, –≥–æ—Ä–∫–∞ (–∞–ª—å–ø–∏–Ω–∏—Å—Ç) 30—Å, –æ—Ç–¥—ã—Ö 40—Å ‚Äî 3‚Äì4 –∫—Ä—É–≥–∞.",
    "üßò ¬´–ú—è–≥–∫–∞—è –∑–∞—Ä—è–¥–∫–∞¬ª (7 –º–∏–Ω):\n–ö–æ—à–∫–∞-–∫–æ—Ä–æ–≤–∞, –Ω–∞–∫–ª–æ–Ω—ã –≤–ø–µ—Ä—ë–¥ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º/—Ä–∞—Å–ø—Ä—è–º–ª–µ–Ω–∏–µ–º —Å–ø–∏–Ω—ã, –∫—Ä—É–≥–∏ —Ç–∞–∑–æ–º, –ø–æ—Ç—è–≥–∏–≤–∞–Ω–∏—è, –¥—ã—Ö–∞–Ω–∏–µ 1 –º–∏–Ω.",
    "ü¶∂ ¬´–ò–∫—Ä—ã+—Å—Ç—É–ø–Ω–∏¬ª:\n–ü–æ–¥—ä—ë–º—ã –Ω–∞ –Ω–æ—Å–∫–∏ 20, —Ä–∞—Å—Ç—è–∂–∫–∞ –∏–∫—Ä —É —Å—Ç–µ–Ω—ã 30—Å/–Ω–æ–≥–∞, —Ö–æ–¥—å–±–∞ –Ω–∞ –Ω–æ—Å–∫–∞—Ö 30—Å, –Ω–∞ –ø—è—Ç–∫–∞—Ö 30—Å.",
    "üèÉ ¬´HIIT 10 –º–∏–Ω¬ª 30/30:\n–ë–µ–≥ –Ω–∞ –º–µ—Å—Ç–µ, –ø—Ä–∏—Å–µ–¥, –æ—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–æ–ª–∞, —Å–∫–∞–ª–æ–ª–∞–∑, –¥–∂–∞–º–ø–∏–Ω–≥ ‚Äî 2 –∫—Ä—É–≥–∞.",
    "ü¶µ ¬´–ö–æ–ª–µ–Ω–∏-–¥–æ–±—Ä–æ¬ª:\n–ü—Ä–∏—Å–µ–¥ —Å —É–ø–æ—Ä–æ–º –Ω–∞ —Å—Ç—É–ª 12, —Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ –∫–æ–ª–µ–Ω–∞ —Å–∏–¥—è 12/–Ω–æ–≥–∞, —è–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç 15, —Ä–∞—Å—Ç—è–∂–∫–∞ –∫–≤–∞–¥—Ä–∏—Ü–µ–ø—Å–∞.",
    "üí™ ¬´–ì—Ä—É–¥—å/—Ç—Ä–∏—Ü–µ–ø—Å –±–µ–∑ –ø–æ–ª–∞¬ª:\n–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã 15‚Äì20, –∂–∏–º –ª–∞–¥–æ–Ω—å—é –æ –ª–∞–¥–æ–Ω—å 10√ó5—Å, –æ—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–æ–ª–∞ 10‚Äì12 ‚Äî 3 –∫—Ä—É–≥–∞.",
    "üåÄ ¬´–ö–æ—Å—ã–µ –º—ã—à—Ü—ã¬ª:\n–†—É—Å—Å–∫–∏–π —Ç–≤–∏—Å—Ç 20, –±–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ 20—Å/—Å—Ç–æ—Ä–æ–Ω–∞, –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è 12/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üßç ¬´–û—Å–∞–Ω–∫–∞+–¥—ã—Ö–∞–Ω–∏–µ¬ª:\n–°—Ç–µ–Ω–∞: –ø—Ä–∏–∂–∞—Ç—å –∑–∞—Ç—ã–ª–æ–∫/–ª–æ–ø–∞—Ç–∫–∏/—Ç–∞–∑ ‚Äî 40—Å, –¥—ã—Ö–∞–Ω–∏–µ 4-4-4 1 –º–∏–Ω, —Å–≤–µ–¥–µ–Ω–∏–µ –ª–æ–ø–∞—Ç–æ–∫ —Ä–µ–∑–∏–Ω–∫–æ–π/–±–µ–∑ 15.",
    "ü¶µ ¬´–Ø–≥–æ–¥–∏—Ü—ã¬ª:\n–ú–æ—Å—Ç 15, –æ—Ç–≤–µ–¥–µ–Ω–∏–µ –Ω–æ–≥–∏ –Ω–∞ —á–µ—Ç–≤–µ—Ä–µ–Ω—å–∫–∞—Ö 12/–Ω–æ–≥–∞, –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–π –ø—Ä–∏—Å–µ–¥ 15, —Ä–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É—à–µ–≤–∏–¥–Ω–æ–π.",
    "üè° ¬´–ú–∏–Ω–∏-—Å—Ç–µ–ø–ø–µ—Ä¬ª (–µ—Å–ª–∏ –µ—Å—Ç—å):\n–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã 40—Å —Ä–∞–±–æ—Ç–∞ / 20—Å –æ—Ç–¥—ã—Ö ‚Äî 10 –º–∏–Ω—É—Ç.",
    "üè∏ ¬´–°–∫–∞–∫–∞–ª–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã¬ª:\n–ò–º–∏—Ç–∞—Ü–∏—è —Å–∫–∞–∫–∞–ª–∫–∏ 45—Å, —à–∞–≥–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—É 45—Å ‚Äî 6 —Ä–∞—É–Ω–¥–æ–≤ (–º–∏–∫—Å).",
    "ü•µ ¬´–ü–ª–µ—á–∏/—Å–ø–∏–Ω–∞ —Ä–µ–∑–∏–Ω–∫–∞¬ª:\n–¢—è–≥–∞ —Ä–µ–∑–∏–Ω–∫–∏ –∫ –≥—Ä—É–¥–∏ 15, –Ω–∞—Ä—É–∂–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è 12/—Å—Ç–æ—Ä–æ–Ω–∞, –æ—Ç–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ —Å—Ç–æ—è 15.",
    "ü¶µ ¬´–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å/—è–≥–æ–¥–∏—Ü–∞¬ª:\n–°—É–º–æ-–ø—Ä–∏—Å–µ–¥ 15, –±–æ–ª–≥–∞—Ä—Å–∫–∏–µ –≤—ã–ø–∞–¥—ã 8/–Ω–æ–≥–∞ (–Ω–∞ –¥–∏–≤–∞–Ω), —à–∞–≥ –≤ —Å—Ç–æ—Ä–æ–Ω—É —Å –ø—Ä–∏—Å–µ–¥–æ–º 10/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üßé ¬´–ö–æ–ª–µ–Ω–∏/–º–æ–±–∏–ª–∏—Ç–∏¬ª:\n–ö–æ—à–∫–∞-–∫–æ—Ä–æ–≤–∞, –∫—Ä—É–≥–∏ –∫–æ–ª–µ–Ω—è–º–∏, –ª—ë–≥–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ –±–µ–¥—Ä–∞, –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è –≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø–∞.",
    "üß† ¬´–ê–Ω—Ç–∏-—Å—Ç—Ä–µ—Å—Å –¥–≤–∏–∂–µ–Ω–∏–µ¬ª (6 –º–∏–Ω):\n–®–µ–π–Ω—ã–µ –Ω–∞–∫–ª–æ–Ω—ã, –º—è–≥–∫–∏–µ –º–∞—Ö–∏ —Ä—É–∫–∞–º–∏, –≤—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏–µ –∫–∏—Å—Ç–µ–π, –¥–∏–∞–≥—Ñ.–¥—ã—Ö–∞–Ω–∏–µ 2 –º–∏–Ω.",
    "‚öñÔ∏è ¬´–ë–∞–ª–∞–Ω—Å-2¬ª:\n–î–µ—Ä–µ–≤–æ (–π–æ–≥–∞) 30—Å/–Ω–æ–≥–∞, –ø–æ–ª—É–ø—Ä–∏—Å–µ–¥ –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ 6/–Ω–æ–≥–∞, –ø–ª–∞–Ω–∫–∞+–ø–æ–¥—ä—ë–º –Ω–æ–≥–∏ 8/–Ω–æ–≥–∞.",
    "üî• ¬´–ú–µ—Ç–∞–±–æ–ª–∏–∫ 12 –º–∏–Ω¬ª:\n30—Å —Ä–∞–±–æ—Ç–∞ / 20—Å –æ—Ç–¥—ã—Ö: –ø—Ä–∏—Å–µ–¥, –æ—Ç–∂–∏–º–∞–Ω–∏—è, —Å–∫–∞–ª–æ–ª–∞–∑, –≤—ã–ø–∞–¥—ã, –±–µ—Ä–ø–∏-–ª–∞–π—Ç ‚Äî 3 –∫—Ä—É–≥–∞.",
    "üßò ¬´–†–∞—Å—Ç—è–∂–∫–∞ –Ω–∞ –≤–µ—Å—å –∫–æ—Ä–ø—É—Å¬ª (10 –º–∏–Ω):\n–ó–∞–¥–Ω—è—è –ª–∏–Ω–∏—è, –∫–≤–∞–¥—Ä–∏—Ü–µ–ø—Å, —Å–≥–∏–±–∞—Ç–µ–ª–∏ –±–µ–¥—Ä–∞, –≥—Ä—É–¥–Ω–æ–π –æ—Ç–¥–µ–ª, —à–µ—è ‚Äî –ø–æ 30‚Äì40—Å.",
]

MEDITATIONS: List[str] = [
    "üí® –î—ã—Ö–∞–Ω–∏–µ 4‚Äì4‚Äì4 (–±–æ–∫—Å): –≤–¥–æ—Ö 4—Å ‚Äî –ø–∞—É–∑–∞ 4—Å ‚Äî –≤—ã–¥–æ—Ö 4—Å. 6‚Äì10 —Ü–∏–∫–ª–æ–≤.",
    "ü´Å 4‚Äì7‚Äì8: –≤–¥–æ—Ö 4—Å ‚Äî –¥–µ—Ä–∂–∏–º 7—Å ‚Äî –≤—ã–¥–æ—Ö 8—Å. 4‚Äì6 —Ü–∏–∫–ª–æ–≤, –º–µ–¥–ª–µ–Ω–Ω–æ.",
    "üì¶ 5‚Äì5 (–∫–æ—Ö–µ—Ä–µ–Ω—Ç–Ω–æ–µ): 5—Å –≤–¥–æ—Ö ‚Äî 5—Å –≤—ã–¥–æ—Ö, –±–µ–∑ –ø–∞—É–∑. 3‚Äì5 –º–∏–Ω—É—Ç.",
    "üåä –í–æ–ª–Ω–∞: –º–µ–¥–ª–µ–Ω–Ω—ã–π –≤–¥–æ—Ö –Ω–æ—Å–æ–º, –≤—ã–¥–æ—Ö –¥–ª–∏–Ω–Ω–µ–µ –Ω–∞ 1‚Äì2—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π –≤–æ–ª–Ω—É. 5 –º–∏–Ω—É—Ç.",
    "üßò –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–∞: –∑–∞–∫—Ä—ã—Ç—å –≥–ª–∞–∑–∞, –æ—Ç —Å—Ç–æ–ø –∫ –º–∞–∫—É—à–∫–µ –æ—Ç–º–µ—á–∞—Ç—å –æ—â—É—â–µ–Ω–∏—è. 5‚Äì10 –º–∏–Ω—É—Ç.",
    "üîÅ –ù–æ—Å/—Ä–æ—Ç: –≤–¥–æ—Ö –Ω–æ—Å–æ–º 3‚Äì4—Å, –≤—ã–¥–æ—Ö —Ä—Ç–æ–º 5‚Äì6—Å, —Ä–∞—Å—Å–ª–∞–±–ª—è—è –ø–ª–µ—á–∏. 3‚Äì6 –º–∏–Ω—É—Ç.",
    "üëÉ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –Ω–æ–∑–¥—Ä—è (–ù–∞–¥–∏ –®–æ–¥—Ö–∞–Ω–∞):\n–ë–æ–ª—å—à–æ–π –ø–∞–ª–µ—Ü –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∞–≤—É—é –Ω–æ–∑–¥—Ä—é ‚Äî –≤–¥–æ—Ö –ª–µ–≤–æ–π; –ë–µ–∑—ã–º—è–Ω–Ω—ã–π –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ª–µ–≤—É—é ‚Äî –≤—ã–¥–æ—Ö –ø—Ä–∞–≤–æ–π; –∑–∞—Ç–µ–º –Ω–∞–æ–±–æ—Ä–æ—Ç. 3‚Äì5 –º–∏–Ω—É—Ç.",
    "ü´ß –®—ë–ø–æ—Ç–Ω—ã–π –≤—ã–¥–æ—Ö (—É–¥–¥–∂–∞–π–∏-–ª–∞–π—Ç): —Å–ª–µ–≥–∫–∞ —Å—É–∂–∞–π –≥–æ—Ä–ª–æ –ø—Ä–∏ –≤—ã–¥–æ—Ö–µ, ¬´–º–æ—Ä—Å–∫–æ–π¬ª –∑–≤—É–∫. 2‚Äì4 –º–∏–Ω—É—Ç—ã.",
    "üßÆ –°—á—ë—Ç –¥–æ 10: –≤–¥–æ—Ö ‚Äî 1, –≤—ã–¥–æ—Ö ‚Äî 2 ‚Ä¶ –¥–æ 10; –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞. 3‚Äì7 –º–∏–Ω—É—Ç.",
    "ü™∑ –õ—é–±—è—â–∞—è –¥–æ–±—Ä–æ—Ç–∞: –Ω–∞ –≤–¥–æ—Ö–µ ¬´–¥–∞ –±—É–¥—É —è —Å–ø–æ–∫–æ–µ–Ω¬ª, –Ω–∞ –≤—ã–¥–æ—Ö–µ ¬´–ø—É—Å—Ç—å –¥—Ä—É–≥–∏–µ –±—É–¥—É—Ç —Å–ø–æ–∫–æ–π–Ω—ã¬ª. 3‚Äì5 –º–∏–Ω—É—Ç.",
    "ü™Å –ö–≤–∞–¥—Ä–∞—Ç—ã –≤–Ω–∏–º–∞–Ω–∏—è: –æ—Ç–º–µ—á–∞–π 4 —Ç–æ—á–∫–∏ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ ‚Äî –≤–¥–æ—Ö/–ø–∞—É–∑–∞/–≤—ã–¥–æ—Ö/–ø–∞—É–∑–∞. 4 –º–∏–Ω—É—Ç—ã.",
    "üîá –†–µ–∑–æ–Ω–∞–Ω—Å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ ~6 –≤ –º–∏–Ω: 5—Å –≤–¥–æ—Ö ‚Äî 5—Å –≤—ã–¥–æ—Ö. 5‚Äì10 –º–∏–Ω—É—Ç.",
    "üßä –û—Ö–ª–∞–∂–¥–∞—é—â–µ–µ –¥—ã—Ö–∞–Ω–∏–µ (—Å–∏—Ç–∞–ª–∏): —Å–≤—ë—Ä–Ω—É—Ç—ã–π ¬´—Ç—Ä—É–±–æ—á–∫–æ–π¬ª —è–∑—ã–∫ ‚Äî –≤–¥–æ—Ö —á–µ—Ä–µ–∑ –Ω–µ–≥–æ, –≤—ã–¥–æ—Ö –Ω–æ—Å–æ–º. 1‚Äì3 –º–∏–Ω—É—Ç—ã.",
    "üî• –†–∞–∑–æ–≥—Ä–µ–≤–∞—é—â–∏–π –∫–∞–ø–∞–ª–∞–±—Ö–∞—Ç–∏ (–ª–∞–π—Ç): —Å–µ—Ä–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—ã–¥–æ—Ö–æ–≤ —á–µ—Ä–µ–∑ –Ω–æ—Å, –≤–¥–æ—Ö–∏ –ø–∞—Å—Å–∏–≤–Ω—ã–µ. 3√ó30 –≤—ã–¥–æ—Ö–æ–≤ (–º—è–≥–∫–æ!).",
    "üéØ –§–æ–∫—É—Å —É –∫–æ–Ω—á–∏–∫–∞ –Ω–æ—Å–∞: –æ—â—É—â–∞–π –ø—Ä–æ—Ö–ª–∞–¥—É –≤–¥–æ—Ö–∞ –∏ —Ç—ë–ø–ª–æ—Ç–∞ –≤—ã–¥–æ—Ö–∞. 3‚Äì5 –º–∏–Ω—É—Ç.",
    "üïØÔ∏è –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–∏: —Ä–æ–≤–Ω—ã–π –≤–¥–æ—Ö/–≤—ã–¥–æ—Ö, –±—É–¥—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å –ø–ª–∞–º—è. 3‚Äì6 –º–∏–Ω—É—Ç.",
    "üåø 3‚Äì4‚Äì5: –≤–¥–æ—Ö 3—Å ‚Äî –ø–∞—É–∑–∞ 4—Å ‚Äî –≤—ã–¥–æ—Ö 5—Å. 6‚Äì10 —Ü–∏–∫–ª–æ–≤.",
    "üéµ –°–ª—É—à–∞–Ω–∏–µ –∑–≤—É–∫–æ–≤: –Ω–µ –æ—Ü–µ–Ω–∏–≤–∞–π, –ª–∏—à—å –∑–∞–º–µ—á–∞–π, –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∫ –¥—ã—Ö–∞–Ω–∏—é. 5‚Äì8 –º–∏–Ω—É—Ç.",
    "üõèÔ∏è –ü–µ—Ä–µ–¥ —Å–Ω–æ–º: 4‚Äì7‚Äì8 + ¬´—Ç—è–∂—ë–ª—ã–µ –≤–µ–∫–∏¬ª ‚Äî —Ä–∞—Å—Å–ª–∞–±—å —Ç–µ–ª–æ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º. 5 –º–∏–Ω.",
    "üßç –û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ —Å—Ç–æ—è–Ω–∏–µ: –º—è–≥–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ + –æ—â—É—â–µ–Ω–∏–µ —Å—Ç–æ–ø/—Ü–µ–Ω—Ç—Ä–∞ —Ç—è–∂–µ—Å—Ç–∏. 3‚Äì5 –º–∏–Ω.",
    "ü™ë 60 —Å–µ–∫—É–Ω–¥ –ø–∞—É–∑—ã: 1 –º–∏–Ω –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –¥—ã—Ö–∞–Ω–∏—è 5‚Äì6/5‚Äì6, –æ—Ç–ø—É—Å—Ç–∏ –ø–ª–µ—á–∏ –∏ —á–µ–ª—é—Å—Ç—å.",
    "ü´Ä –î—ã—Ö–∞–Ω–∏–µ —Å–µ—Ä–¥—Ü–µ–º (–æ–±—Ä–∞–∑): –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π –≤–¥–æ—Ö —á–µ—Ä–µ–∑ –æ–±–ª–∞—Å—Ç—å —Å–µ—Ä–¥—Ü–∞, –≤—ã–¥–æ—Ö ‚Äî —Ç–µ–ø–ª–æ –ø–æ —Ç–µ–ª—É.",
    "üå¨Ô∏è –ü—Ä–æ–¥–ª—ë–Ω–Ω—ã–π –≤—ã–¥–æ—Ö: –≤–¥–æ—Ö 3‚Äì4—Å, –≤—ã–¥–æ—Ö 2√ó –¥–æ–ª—å—à–µ. –£—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç. 3‚Äì6 –º–∏–Ω.",
    "üßò –≠—Ç–∏–∫–µ—Ç–∫–∞ —ç–º–æ—Ü–∏–π: –∑–∞–º–µ—á–∞–π —ç–º–æ—Ü–∏—é, –Ω–∞–∑—ã–≤–∞–π –µ—ë (¬´—Ç—Ä–µ–≤–æ–≥–∞¬ª, ¬´–∑–ª–æ—Å—Ç—å¬ª), –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∫ –¥—ã—Ö–∞–Ω–∏—é.",
    "üåô 1:2 (—Å–æ–Ω): –≤–¥–æ—Ö 3, –≤—ã–¥–æ—Ö 6 ‚Äî 5 –º–∏–Ω—É—Ç –≤ –∫—Ä–æ–≤–∞—Ç–∏.",
    "ü™û –û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å –≤ –∑–µ—Ä–∫–∞–ª–µ: 10 —Ä–æ–≤–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ –¥—ã—Ö–∞–Ω–∏—è, —Å–º–æ—Ç—Ä–∏ –Ω–∞ –º—è–≥–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Ü–∞.",
    "üñêÔ∏è ¬´5-4-3-2-1¬ª: –Ω–∞–∑–æ–≤–∏ 5 –≤–∏–∂—É, 4 —Å–ª—ã—à—É, 3 –æ—â—É—â–∞—é, 2 –∑–∞–ø–∞—Ö–∞, 1 –≤–∫—É—Å ‚Äî –¥—ã—à–∞ —Å–ø–æ–∫–æ–π–Ω–æ.",
    "üå≤ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–µ—Å–∞: –¥—ã—à–∏ 5/5, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π –∞—Ä–æ–º–∞—Ç —Ö–≤–æ–∏, –ø—Ä–æ—Ö–ª–∞–¥—É —Ç–µ–Ω–∏. 5‚Äì8 –º–∏–Ω.",
    "üß≥ ¬´–û—Ç–ø—É—Å—Ç–∏—Ç—å¬ª: –Ω–∞ –≤—ã–¥–æ—Ö–µ –ø—Ä–æ–≥–æ–≤–∞—Ä–∏–≤–∞–π –≤–Ω—É—Ç—Ä—å ¬´–æ—Ç–ø—É—Å–∫–∞—é¬ª. 3‚Äì5 –º–∏–Ω—É—Ç.",
]

YOGA: List[str] = [
    "üßò‚Äç‚ôÇÔ∏è –¢–∞–¥–∞—Å–∞–Ω–∞ (–ü–æ–∑–∞ –≥–æ—Ä—ã): –≤—Å—Ç–∞–Ω—å –ø—Ä—è–º–æ, —Å—Ç–æ–ø—ã –≤–º–µ—Å—Ç–µ/–Ω–∞ —à–∏—Ä–∏–Ω–µ —Ç–∞–∑–∞, –º–∞–∫—É—à–∫–∞ –≤–≤–µ—Ä—Ö, –ª–æ–ø–∞—Ç–∫–∏ –≤–Ω–∏–∑, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π.",
    "üåø –í—Ä–∏–∫—à–∞—Å–∞–Ω–∞ (–î–µ—Ä–µ–≤–æ): —Å—Ç–æ–ø–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –±–µ–¥—Ä—É/–≥–æ–ª–µ–Ω–∏, —Ç–∞–∑ —Ä–æ–≤–Ω–æ, –ª–∞–¥–æ–Ω–∏ —É –≥—Ä—É–¥–∏/–≤–≤–µ—Ä—Ö, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π/–Ω–æ–≥–∞.",
    "üèπ –í–∏—Ä–∞–±—Ö–∞–¥—Ä–∞—Å–∞–Ω–∞ II (–í–æ–∏–Ω II): –¥–ª–∏–Ω–Ω–∞—è —Å—Ç–æ–π–∫–∞, –∫–æ–ª–µ–Ω–æ –Ω–∞–¥ –ø—è—Ç–∫–æ–π, —Ä—É–∫–∏ –≤—Ä–æ–∑—å, –≤–∑–≥–ª—è–¥ –≤–ø–µ—Ä—ë–¥, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üèπ –í–∏—Ä–∞–±—Ö–∞–¥—Ä–∞—Å–∞–Ω–∞ I (–í–æ–∏–Ω I): –∑–∞–¥–Ω—è—è —Å—Ç–æ–ø–∞ –ø–æ–¥ —É–≥–ª–æ–º, —Ç–∞–∑ –≤–ø–µ—Ä—ë–¥, —Ä—É–∫–∏ –≤–≤–µ—Ä—Ö, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "ü¶Ö –ì–∞—Ä—É–¥–∞—Å–∞–Ω–∞ (–û—Ä–µ–ª ‚Äì —É–ø—Ä–æ—â.): —Å–∫—Ä–µ—Å—Ç–∏ —Ä—É–∫–∏/–Ω–æ–≥–∏, —Å—è–¥—å —á—É—Ç—å –Ω–∏–∂–µ, –¥–µ—Ä–∂–∏ –±–∞–ª–∞–Ω—Å 5‚Äì6 –¥—ã—Ö–∞–Ω–∏–π.",
    "üêà –ö–æ—à–∫–∞‚Äë–ö–æ—Ä–æ–≤–∞: –Ω–∞ –≤–¥–æ—Ö ‚Äî –ø—Ä–æ–≥–∏–±, –Ω–∞ –≤—ã–¥–æ—Ö ‚Äî –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ, 8‚Äì10 —Ü–∏–∫–ª–æ–≤.",
    "ü™∑ –ë–∞–ª–∞—Å–∞–Ω–∞ (–†–µ–±—ë–Ω–æ–∫): —Å—è–¥—å –Ω–∞ –ø—è—Ç–∫–∏, –ª–æ–± –Ω–∞ –∫–æ–≤—Ä–∏–∫, —Ä—É–∫–∏ –≤–ø–µ—Ä—ë–¥/–≤–¥–æ–ª—å, 6‚Äì10 –¥—ã—Ö–∞–Ω–∏–π.",
    "üßó –ê–¥—Ö–æ –ú—É–∫—Ö–∞ –®–≤–∞–Ω–∞—Å–∞–Ω–∞ (–°–æ–±–∞–∫–∞ –º–æ—Ä–¥–æ–π –≤–Ω–∏–∑): —Ç–æ–ª–∫–∞–π –ª–∞–¥–æ–Ω–∏, —Ç–∞–∑ –≤–≤–µ—Ä—Ö, —à–µ—è –¥–ª–∏–Ω–Ω–∞—è, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π.",
    "ü™ë –£—Ç–∫–∞—Ç–∞—Å–∞–Ω–∞ (–°—Ç—É–ª): —Ç–∞–∑ –Ω–∞–∑–∞–¥, –∫–æ–ª–µ–Ω–∏ –Ω–µ —É—Ö–æ–¥—è—Ç –∑–∞ –Ω–æ—Å–∫–∏, –∫–æ—Ä–ø—É—Å —Å–ª–µ–≥–∫–∞ –≤–ø–µ—Ä—ë–¥, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π.",
    "üåßÔ∏è –£—Ç—Ç–∞–Ω–∞—Å–∞–Ω–∞ (–ù–∞–∫–ª–æ–Ω —Å—Ç–æ—è): –º—è–≥–∫–æ –≤—ã—Ç—è–≥–∏–≤–∞–π –∑–∞–¥–Ω—é—é –ª–∏–Ω–∏—é, –∫–æ–ª–µ–Ω–∏ –º–æ–∂–Ω–æ –ø–æ–¥—Å–æ–≥–Ω—É—Ç—å, 6‚Äì10 –¥—ã—Ö–∞–Ω–∏–π.",
    "üåÄ –ü–∞—Ä–∏–≤—Ä–∏—Ç—Ç–∞ –¢—Ä–∏–∫–æ–Ω–∞—Å–∞–Ω–∞ (–ü–µ—Ä–µ–≤–µ—Ä–Ω. —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ ‚Äì —É–ø—Ä–æ—â.): –æ–ø–æ—Ä–∞ —Ä—É–∫–æ–π –Ω–∞ –≥–æ–ª–µ–Ω—å/–±–ª–æ–∫, –≤—ã—Ç—è–∂–µ–Ω–∏–µ, 5 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üßé –ê–Ω—É—Ä—É—Ç—Ç—Ö–∞ (–Ω–∏–∑–∫–∏–π –≤—ã–ø–∞–¥): –∫–æ–ª–µ–Ω–æ –Ω–∞ –ø–æ–ª—É, —Ç–∞–∑ –≤–ø–µ—Ä—ë–¥, –≤—ã—Ç—è–∂–µ–Ω–∏–µ —Å–≥–∏–±–∞—Ç–µ–ª–µ–π –±–µ–¥—Ä–∞, 6 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üê¶ –ì–æ–ª—É–±—å (–≤–∞—Ä–∏–∞–Ω—Ç): –ø–µ—Ä–µ–¥–Ω—è—è –≥–æ–ª–µ–Ω—å –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ, —Ç–∞–∑ —Ä–æ–≤–Ω–æ, –æ–ø–æ—Ä–∞ –Ω–∞ –ø–æ–¥—É—à–∫—É, 6‚Äì8 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "ü™Å –ë–∞–¥–¥—Ö–∞ –ö–æ–Ω–∞—Å–∞–Ω–∞ (–ë–∞–±–æ—á–∫–∞): —Å—Ç–æ–ø—ã –≤–º–µ—Å—Ç–µ, –∫–æ–ª–µ–Ω–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã, –≤—ã—Ç—è–∂–µ–Ω–∏–µ, 8‚Äì10 –¥—ã—Ö–∞–Ω–∏–π.",
    "ü™û –°—É–ø—Ç–∞ –ú–∞—Ç—Å–∏–µ–Ω–¥—Ä–∞—Å–∞–Ω–∞ (–ü–µ—Ä–µ–∫—Ä—É—Ç –ª—ë–∂–∞): –∫–æ–ª–µ–Ω–æ –Ω–∞ –±–æ–∫, –ø–ª–µ—á–∏ –ø—Ä–∏–∂–∞—Ç—ã, 6‚Äì8 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "ü´Å –®–∞–≤–∞—Å–∞–Ω–∞ (–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ): –ª—ë–∂–∞, –¥—ã—Ö–∞–Ω–∏–µ —Ä–æ–≤–Ω–æ–µ, —Å–∫–∞–Ω–∏—Ä—É–π —Ç–µ–ª–æ 3‚Äì5 –º–∏–Ω.",
    "ü¶µ –ü–∞—Ä—à–≤–∞–∫–æ–Ω–∞—Å–∞–Ω–∞ (–ë–æ–∫–æ–≤–æ–π —É–≥–æ–ª ‚Äì —É–ø—Ä.): –ø—Ä–µ–¥–ø–ª–µ—á—å–µ –Ω–∞ –±–µ–¥—Ä–µ, —Ä—É–∫–∞ –≤–≤–µ—Ä—Ö, 5‚Äì8 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üß± –¢—Ä–∏–∫–æ–Ω–∞—Å–∞–Ω–∞ (–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ ‚Äì —É–ø—Ä.): —Ä—É–∫–∞ –Ω–∞ –≥–æ–ª–µ–Ω—å/–±–ª–æ–∫, –≥—Ä—É–¥—å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–π, 6 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üßç –í–∏–ø–∞—Ä–∏—Ç–∞ –ö–∞—Ä–∞–Ω–∏ (–Ω–æ–≥–∏ –Ω–∞ —Å—Ç–µ–Ω–µ): —Ç–∞–∑ –Ω–∞ –ø–æ–ª—É/–ø–æ–¥—É—à–∫–µ, –Ω–æ–≥–∏ –Ω–∞ —Å—Ç–µ–Ω–µ, 3‚Äì7 –º–∏–Ω—É—Ç.",
    "ü§∏‚Äç‚ôÇÔ∏è –ü–æ–ª—É–º–æ—Å—Ç (—Å–µ—Ç—É –±–∞–Ω–¥—Ö–∞ ‚Äì —É–ø—Ä.): –ø–æ–¥—ä—ë–º —Ç–∞–∑–∞ –ª—ë–∂–∞, –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π, 5‚Äì6 –¥—ã—Ö–∞–Ω–∏–π, 2‚Äì3 —Ä–∞–∑–∞.",
    "üßµ –ù–∏—Ç—å –≤ –∏–≥–æ–ª–∫—É: –∏–∑ —á–µ—Ç–≤–µ—Ä–µ–Ω–µ–∫ —Ä—É–∫–∞ –ø–æ–¥ –≥—Ä—É–¥—å—é, –ø–ª–µ—á–æ –Ω–∞ –∫–æ–≤—Ä–∏–∫, 6 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üßò‚Äç‚ôÄÔ∏è –ü–∞—à—á–∏–º–æ—Ç—Ç–∞–Ω–∞—Å–∞–Ω–∞ (–Ω–∞–∫–ª–æ–Ω —Å–∏–¥—è ‚Äì —É–ø—Ä.): –∫–æ–ª–µ–Ω–∏ –º–æ–∂–Ω–æ —Å–æ–≥–Ω—É—Ç—å, –≤—ã—Ç—è–∂–µ–Ω–∏–µ —Å–ø–∏–Ω—ã, 6‚Äì10 –¥—ã—Ö–∞–Ω–∏–π.",
    "ü´± –ü–ª–∞–Ω–∫–∞ –Ω–∞ –ª–æ–∫—Ç—è—Ö (–π–æ–≥–∞-—Å—Ç–∏–ª—å): –º–∞–∫—É—à–∫–∞ –≤–ø–µ—Ä—ë–¥, –ø—è—Ç–∫–∏ –Ω–∞–∑–∞–¥, 20‚Äì40—Å √ó2.",
    "üßé –ö–æ—à–∫–∞ —Å –≤—ã—Ç—è–∂–µ–Ω–∏–µ–º —Ä—É–∫–∏/–Ω–æ–≥–∏: –¥–∏–∞–≥–æ–Ω–∞–ª—å —Ä—É–∫–∞‚Äë–Ω–æ–≥–∞, –¥–µ—Ä–∂–∞—Ç—å 4‚Äì5 –¥—ã—Ö–∞–Ω–∏–π/—Å—Ç–æ—Ä–æ–Ω–∞.",
    "üßò‚Äç‚ôÇÔ∏è –°—É–∫—Ö–∞—Å–∞–Ω–∞ (—É–¥–æ–±–Ω–∞—è –ø–æ–∑–∞): —Å–∏–¥—è, —Ä–æ–≤–Ω–∞—è —Å–ø–∏–Ω–∞, –¥—ã—Ö–∞–Ω–∏–µ 5 –º–∏–Ω.",
    "ü™¥ –ú–∞–ª–∞—Å–∞–Ω–∞ (–≥–∏—Ä–ª—è–Ω–¥–∞ ‚Äì —É–ø—Ä.): –ø—Ä–∏—Å–µ–¥, –ø—è—Ç–∫–∏ –Ω–∞ –æ–ø–æ—Ä–µ, –ª–æ–∫—Ç—è–º–∏ —Ä–∞–∑–≤–æ–¥–∏ –∫–æ–ª–µ–Ω–∏, 5‚Äì6 –¥—ã—Ö–∞–Ω–∏–π.",
    "ü™¢ –ì–æ–º—É–∫—Ö–∞—Å–∞–Ω–∞ (—Ä—É–∫–∏ ‚Äì —É–ø—Ä.): —Ä–µ–º–µ—à–æ–∫/–ø–æ–ª–æ—Ç–µ–Ω—Ü–µ, –º—è–≥–∫–æ–µ –≤—ã—Ç—è–∂–µ–Ω–∏–µ –ø–ª–µ—á, 6 –¥—ã—Ö–∞–Ω–∏–π.",
    "ü¶ã –í–∞—Ä–∏–∞—Ü–∏–∏ ¬´–±–∞–±–æ—á–∫–∏¬ª –ª—ë–∂–∞: —Å—Ç–æ–ø—ã –≤–º–µ—Å—Ç–µ, –∫–æ–ª–µ–Ω–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã, –æ–ø–æ—Ä–∞ –ø–æ–¥ –∫–æ–ª–µ–Ω–∏, 3‚Äì5 –º–∏–Ω.",
]

NUTRITION: List[str] = [
    "ü•§ –°—Ç–∞—Ä—Ç –¥–Ω—è —Å –≤–æ–¥—ã: 300‚Äì400 –º–ª –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è.",
    "üçΩÔ∏è –ü—Ä–∞–≤–∏–ª–æ ¬´—Ç–∞—Ä–µ–ª–∫–∏¬ª: 1/2 –æ–≤–æ—â–∏, 1/4 –±–µ–ª–æ–∫, 1/4 —Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã.",
    "ü•¶ –û–≤–æ—â–∏ 400‚Äì600 –≥/–¥–µ–Ω—å: –¥–æ–±–∞–≤–ª—è–π –∫ –∫–∞–∂–¥–æ–º—É –ø—Ä–∏—ë–º—É –ø–∏—â–∏.",
    "üçó –ë–µ–ª–æ–∫: 1‚Äì1,2 –≥/–∫–≥ –º–∞—Å—Å—ã/—Å—É—Ç–∫–∏ (–æ–±—â–∏–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä; –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π –ø–æ–¥ —Å–µ–±—è).",
    "üçö –£–≥–ª–µ–≤–æ–¥—ã ‚Äî –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Ü–µ–ª—å–Ω—ã–µ: –∫—Ä—É–ø—ã, –±–æ–±–æ–≤—ã–µ, —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π —Ö–ª–µ–±.",
    "ü´í –ñ–∏—Ä—ã ‚Äî –ø–æ–ª–µ–∑–Ω—ã–µ: –æ–ª–∏–≤–∫–æ–≤–æ–µ, –æ—Ä–µ—Ö–∏, –∞–≤–æ–∫–∞–¥–æ; –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π —Ç—Ä–∞–Ω—Å‚Äë–∂–∏—Ä—ã.",
    "üç≠ –°–∞—Ö–∞—Ä: –¥–µ—Ä–∂–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π < 25‚Äì30 –≥/–¥–µ–Ω—å. –°–º–æ—Ç—Ä–∏ —ç—Ç–∏–∫–µ—Ç–∫–∏.",
    "ü•§ –ù–∞–ø–∏—Ç–∫–∏: –≤–æ–¥–∞, –Ω–µ—Å–ª–∞–¥–∫–∏–π —á–∞–π/–∫–æ—Ñ–µ; —Å–æ–∫–∏ ‚Äî –∫–∞–∫ –¥–µ—Å–µ—Ä—Ç, –∞ –Ω–µ –∫–∞–∫ –≤–æ–¥–∞.",
    "‚è±Ô∏è –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: –µ—à—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –∏–∑–±–µ–≥–∞–π –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–µ—Ä–µ–∫—É—Å–æ–≤ ¬´–ø–æ —á—É—Ç—å‚Äë—á—É—Ç—å¬ª.",
    "ü•£ –ó–∞–≤—Ç—Ä–∞–∫: –±–µ–ª–æ–∫+–∫–ª–µ—Ç—á–∞—Ç–∫–∞ (–æ–º–ª–µ—Ç/—Ç–≤–æ—Ä–æ–≥ + –æ–≤–æ—â–∏/–æ–≤—Å—è–Ω–∫–∞).",
    "üßÇ –°–æ–ª—å: —Å—Ç–∞—Ä–∞–π—Å—è ‚â§5 –≥/—Å—É—Ç–∫–∏ (–æ–∫–æ–ª–æ 1 —á. –ª. —Å–æ –≤—Å–µ–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏).",
    "ü•¨ –ö–ª–µ—Ç—á–∞—Ç–∫–∞ 25‚Äì35 –≥/–¥–µ–Ω—å: –æ–≤–æ—â–∏, —Ü–µ–ª—å–Ω—ã–µ –∑—ë—Ä–Ω–∞, –±–æ–±–æ–≤—ã–µ, —è–≥–æ–¥—ã, —Å–µ–º–µ–Ω–∞.",
    "üç∂ –ö–∏—Å–ª–æ–º–æ–ª–æ—á–Ω—ã–µ: –π–æ–≥—É—Ä—Ç –±–µ–∑ —Å–∞—Ö–∞—Ä–∞/–∫–µ—Ñ–∏—Ä 150‚Äì250 –º–ª –≤ –¥–µ–Ω—å –ø–æ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏.",
    "ü•ó –ü–ª–∞–Ω: –∑–∞–≥–æ—Ç–æ–≤—å 2‚Äì3 –±–∞–∑—ã (–∫—Ä—É–ø–∞/–±–æ–±–æ–≤—ã–µ/–∫—É—Ä–∏—Ü–∞) –Ω–∞ 2‚Äì3 –¥–Ω—è –≤–ø–µ—Ä—ë–¥.",
    "üç´ –î–µ—Å–µ—Ä—Ç: 2‚Äì3 —Ä–∞–∑–∞/–Ω–µ–¥ –ø–æ 20‚Äì30 –≥ —Ç—ë–º–Ω–æ–≥–æ —à–æ–∫–æ–ª–∞–¥–∞ 70%+ –≤–º–µ—Å—Ç–æ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Å–ª–∞–¥–æ—Å—Ç–µ–π.",
    "üçΩÔ∏è –û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å: –µ—à—å –±–µ–∑ —ç–∫—Ä–∞–Ω–∞, –º–µ–¥–ª–µ–Ω–Ω–æ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è –Ω–∞ 80% —Å—ã—Ç–æ—Å—Ç–∏.",
    "üçè –ü–µ—Ä–µ–∫—É—Å —É–º–Ω—ã–π: —è–±–ª–æ–∫–æ + –æ—Ä–µ—Ö–∏/–π–æ–≥—É—Ä—Ç, –º–æ—Ä–∫–æ–≤—å + —Ö—É–º—É—Å, —Ç–≤–æ—Ä–æ–≥ + —è–≥–æ–¥—ã.",
    "üßÉ –≠—Ç–∏–∫–µ—Ç–∫–∏: —á–µ–º –∫–æ—Ä–æ—á–µ —Å–æ—Å—Ç–∞–≤ ‚Äî —Ç–µ–º –ª—É—á—à–µ. –°–º–æ—Ç—Ä–∏ —Å–∞—Ö–∞—Ä/—Å–æ–ª—å/—Ç—Ä–∞–Ω—Å‚Äë–∂–∏—Ä—ã.",
    "ü•î –ì–ª–∏–∫–µ–º–∏—á–µ—Å–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: —Å–æ—á–µ—Ç–∞–π —É–≥–ª–µ–≤–æ–¥—ã —Å –±–µ–ª–∫–æ–º/–∂–∏—Ä–æ–º/–∫–ª–µ—Ç—á–∞—Ç–∫–æ–π.",
    "üç≤ –°—É–ø—ã/—Ä–∞–≥—É: –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–±—Ä–∞—Ç—å –∫–ª–µ—Ç—á–∞—Ç–∫—É/–æ–±—ä–µ–º —Å –º–µ–Ω—å—à–µ–π –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å—é.",
    "ü´ò –ë–µ–ª–æ–∫ –∏–∑ –±–æ–±–æ–≤—ã—Ö 2‚Äì4 —Ä–∞–∑–∞/–Ω–µ–¥: —á–µ—á–µ–≤–∏—Ü–∞, –Ω—É—Ç, —Ñ–∞—Å–æ–ª—å.",
    "üêü –†—ã–±–∞ 2 —Ä–∞–∑–∞/–Ω–µ–¥: –æ—Å–æ–±–µ–Ω–Ω–æ –∂–∏—Ä–Ω–∞—è (–ª–æ—Å–æ—Å—å, —Å–∫—É–º–±—Ä–∏—è, —Å–µ–ª—å–¥—å).",
    "ü•ö –Ø–π—Ü–∞ 3‚Äì7 —à—Ç/–Ω–µ–¥ (–ø–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –≤—Ä–∞—á–∞).",
    "üçå –ö–∞–ª–∏–π/–º–∞–≥–Ω–∏–π –∏–∑ –ø–∏—â–∏: –±–∞–Ω–∞–Ω—ã, –∑–µ–ª–µ–Ω—å, –±–æ–±–æ–≤—ã–µ, –æ—Ä–µ—Ö–∏, –∫–∞–∫–∞–æ.",
    "ü•§ –ê–ª–∫–æ–≥–æ–ª—å ‚Äî –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–∫–ª—é—á–∏; –º–∏–Ω–∏–º—É–º ‚Äî –æ—á–µ–Ω—å —É–º–µ—Ä–µ–Ω–Ω–æ –∏ –Ω–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ.",
    "üçΩÔ∏è –û–±—ä—ë–º –ø–æ—Ä—Ü–∏–π: –∏—Å–ø–æ–ª—å–∑—É–π –º–µ–Ω—å—à—É—é —Ç–∞—Ä–µ–ª–∫—É, –¥–æ–±–∞–≤–∫—É –±–µ—Ä–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–∞—É–∑—ã 10 –º–∏–Ω.",
    "üåô –£–∂–∏–Ω –∑–∞ 2‚Äì3 —á–∞—Å–∞ –¥–æ —Å–Ω–∞, –ª—ë–≥–∫–∏–π: –±–µ–ª–æ–∫ + –æ–≤–æ—â–∏ + –Ω–µ–º–Ω–æ–≥–æ —É–≥–ª–µ–≤–æ–¥–æ–≤.",
    "üå∂Ô∏è –°–ø–µ—Ü–∏–∏: –∫—É—Ä–∫—É–º–∞, –∏–º–±–∏—Ä—å, –∫–æ—Ä–∏—Ü–∞ ‚Äî –≤–∫—É—Å + –≤–æ–∑–º–æ–∂–Ω–∞—è –ø–æ–ª—å–∑–∞, –µ—Å–ª–∏ –ø–æ–¥—Ö–æ–¥—è—Ç.",
    "ü•ó –ó–∞–ø—Ä–∞–≤–∫–∏: –æ–ª–∏–≤–∫–æ–≤–æ–µ + –ª–∏–º–æ–Ω/–π–æ–≥—É—Ä—Ç –≤–º–µ—Å—Ç–æ –º–∞–π–æ–Ω–µ–∑–∞.",
    "üö∞ –í–æ–¥–∞: –æ—Ä–∏–µ–Ω—Ç–∏—Ä 30 –º–ª/–∫–≥/—Å—É—Ç (—á–∏—Å—Ç–∞—è + –Ω–∞–ø–∏—Ç–∫–∏), –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π –ø–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—é.",
    "üßä –ù–∞–ø–∏—Ç–∫–∏ —Å —Å–∞—Ö–∞—Ä–æ–∑–∞–º–µ–Ω–∏—Ç–µ–ª—è–º–∏ ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ, —Å–ª–µ–¥–∏ –∑–∞ —Ä–µ–∞–∫—Ü–∏–µ–π.",
    "ü•ú –û—Ä–µ—Ö–∏ 20‚Äì30 –≥/–¥–µ–Ω—å: –º–∏–Ω–¥–∞–ª—å/–≥—Ä–µ—Ü–∫–∏–π/—Ñ—É–Ω–¥—É–∫, –±–µ–∑ —Å–∞—Ö–∞—Ä–∞/–≥–ª–∞–∑—É—Ä–∏.",
    "üç† –ö—Ä–∞—Ö–º–∞–ª–∏—Å—Ç—ã–µ –æ–≤–æ—â–∏ ‚Äî –Ω–æ—Ä–º! –ü—Ä–æ—Å—Ç–æ —É—á–∏—Ç—ã–≤–∞–π –ø–æ—Ä—Ü–∏–∏: 100‚Äì150 –≥ –∑–∞ —Ä–∞–∑.",
    "üßä –ó–∞–º–æ—Ä–æ–∑–∫–∞ –æ–≤–æ—â–µ–π/—è–≥–æ–¥ ‚Äî –æ–∫, —É–¥–æ–±–Ω–æ –∏ –ø–æ–ª–µ–∑–Ω–æ.",
    "üßÉ ¬´–§—Ä–µ—à–∏¬ª ‚Äî —ç—Ç–æ –µ–¥–∞, –∞ –Ω–µ –≤–æ–¥–∞: –º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ—Ä—Ü–∏—è –∏ –Ω–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
    "ü•§ –ö–æ—Ñ–µ: 1‚Äì3 —á–∞—à–∫–∏/–¥–µ–Ω—å –±–µ–∑ —Å–∞—Ö–∞—Ä–∞, –Ω–µ –ø–æ–∑–¥–Ω–æ –≤–µ—á–µ—Ä–æ–º.",
    "üçΩÔ∏è –í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Ü–∞–º: –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π B12/–∂–µ–ª–µ–∑–æ/–π–æ–¥/–æ–º–µ–≥–∞‚Äë3 –ø–æ –≤—Ä–∞—á—É.",
    "üßÇ –ú–∞—Ä–∏–Ω–∞–¥—ã/—Å–æ—É—Å—ã: –∏—â–∏ –Ω–∏–∑–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–∞—Ö–∞—Ä–∞/—Å–æ–ª–∏.",
    "ü•ó –°–∞–ª–∞—Ç = –Ω–µ —Ç–æ–ª—å–∫–æ –æ–≤–æ—â–∏: –¥–æ–±–∞–≤—å –±–µ–ª–æ–∫/–æ—Ä–µ—Ö–∏/—Å–µ–º–µ–Ω–∞/—Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ.",
    "üç≥ –¢–µ—Ä–º–æ–æ–±—Ä–∞–±–æ—Ç–∫–∞: —á–µ—Ä–µ–¥—É–π ‚Äî —Å—ã—Ä—ã–µ/—Ç—É—à—ë–Ω—ã–µ/–∑–∞–ø–µ—á—ë–Ω–Ω—ã–µ –æ–≤–æ—â–∏.",
    "üç± –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: –≥–æ—Ç–æ–≤—å –ø–æ—Ä—Ü–∏—è–º–∏ –∏ –±–µ—Ä–∏ —Å —Å–æ–±–æ–π, —á—Ç–æ–±—ã –Ω–µ —Å—Ä—ã–≤–∞—Ç—å—Å—è.",
    "üß™ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º –∏ –≤–º–µ—Å—Ç–µ —Å –≤—Ä–∞—á–æ–º.",
    "üßä –õ—ë–¥/–≥–∞–∑–∏—Ä–æ–≤–∫–∞ –±–µ–∑ —Å–∞—Ö–∞—Ä–∞ ‚Äî –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ¬´–ø–µ—Ä–µ–µ—Å—Ç—å –Ω–µ –¥–∞—Ç—å¬ª (–µ—Å–ª–∏ –ø–æ–¥—Ö–æ–¥–∏—Ç).",
    "üçã –°—Ç–∞–∫–∞–Ω —Ç—ë–ø–ª–æ–π –≤–æ–¥—ã —Å –ª–∏–º–æ–Ω–æ–º ‚Äî –≤–∫—É—Å–Ω–æ, –Ω–æ –Ω–µ ¬´–∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ¬ª; –ø–µ–π –ø–æ –∂–µ–ª–∞–Ω–∏—é.",
]

ANALYSIS: Dict[str, str] = {
    "hemoglobin": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω (Hgb). –ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º—ã (–≤–∑—Ä–æ—Å–ª—ã–µ): ‚ôÇ 130‚Äì170 –≥/–ª, ‚ôÄ 120‚Äì150 –≥/–ª. –ù–∏–∂–µ ‚Äî —Ä–∏—Å–∫ –∞–Ω–µ–º–∏–∏; –≤—ã—à–µ ‚Äî –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ/–∫—É—Ä–µ–Ω–∏–µ/–≥–∏–ø–æ–∫—Å–∏—è –∏ –¥—Ä. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –≤—Ä–∞—á–æ–º.",
    "ferritin": "–§–µ—Ä—Ä–∏—Ç–∏–Ω. –û—Ä–∏–µ–Ω—Ç–∏—Ä—ã: ~30‚Äì400 –Ω–≥/–º–ª (‚ôÇ), ~15‚Äì150 –Ω–≥/–º–ª (‚ôÄ). –ù–∏–∑–∫–æ ‚Äî –¥–µ—Ñ–∏—Ü–∏—Ç –∂–µ–ª–µ–∑–∞; –≤—ã—Å–æ–∫–æ ‚Äî –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ/–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –∂–µ–ª–µ–∑–æ–º. –í—Å–µ–≥–¥–∞ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–º–µ—Å—Ç–µ —Å OZHSS, —Å—ã–≤–æ—Ä–æ—Ç. –∂–µ–ª–µ–∑–æ–º, CRP.",
    "vitamin_d": "–í–∏—Ç–∞–º–∏–Ω D (25(OH)D): <20 –Ω–≥/–º–ª ‚Äî –¥–µ—Ñ–∏—Ü–∏—Ç; 20‚Äì30 ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫; 30‚Äì50 ‚Äî –æ–ø—Ç–∏–º—É–º (—á–∞—Å—Ç–æ); >100 ‚Äî —Ä–∏—Å–∫ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –≤—Ä–∞—á–æ–º.",
    "b12": "–í–∏—Ç–∞–º–∏–Ω B12: ~200‚Äì950 –ø–≥/–º–ª. –ù–∏–∑–∫–æ ‚Äî —Ä–∏—Å–∫ –∞–Ω–µ–º–∏–∏/–Ω–µ–≤—Ä–æ–ª–æ–≥. —Å–∏–º–ø—Ç–æ–º–æ–≤. –û—Ü–µ–Ω–∏–≤–∞—Ç—å —Å –≥–æ–º–æ—Ü–∏—Å—Ç–µ–∏–Ω–æ–º/–ú–ú–ê.",
    "folate": "–§–æ–ª–∞—Ç (B9): ~4‚Äì20 –Ω–≥/–º–ª. –ù–∏–∑–∫–æ ‚Äî –º–µ–≥–∞–ª–æ–±–ª–∞—Å—Ç–Ω–∞—è –∞–Ω–µ–º–∏—è, –ø–∏—Ç–∞–Ω–∏–µ.",
    "glucose": "–ì–ª—é–∫–æ–∑–∞ –Ω–∞—Ç–æ—â–∞–∫: 3.9‚Äì5.5 –º–º–æ–ª—å/–ª (–æ–±—â–∏–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã). 5.6‚Äì6.9 ‚Äî –ø—Ä–µ–¥–¥–∏–∞–±–µ—Ç (IFG), ‚â•7.0 ‚Äî –≤–æ–∑–º–æ–∂–µ–Ω –¥–∏–∞–±–µ—Ç. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.",
    "hba1c": "HbA1c: <5.7% –Ω–æ—Ä–º–∞; 5.7‚Äì6.4% –ø—Ä–µ–¥–¥–∏–∞–±–µ—Ç; ‚â•6.5% –¥–∏–∞–±–µ—Ç (–¥–∏–∞–≥–Ω–æ–∑ ‚Äî –≤—Ä–∞—á—É).",
    "alt_ast": "–ê–õ–¢/–ê–°–¢: –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–æ 35‚Äì40 –ï–¥/–ª (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏). –í—ã—à–µ ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –ø–µ—á–µ–Ω–∏/–º—ã—à—Ü; —Å–º–æ—Ç—Ä–µ—Ç—å –ì–ì–¢/–©–§/–±–∏–ª–∏—Ä—É–±–∏–Ω.",
    "ggt": "–ì–ì–¢: —á–∞—Å—Ç–æ –¥–æ ~60 –ï–¥/–ª (–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ –∑–∞–≤–∏—Å–∏—Ç). –†–æ—Å—Ç ‚Äî –∞–ª–∫–æ–≥–æ–ª—å, —Ö–æ–ª–µ—Å—Ç–∞–∑, –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –∏ –¥—Ä.",
    "alk_phos": "–©–§: –æ—Ä–∏–µ–Ω—Ç–∏—Ä ~30‚Äì120 –ï–¥/–ª (—Ä–∞–∑–Ω–∏—Ç—Å—è). –†–æ—Å—Ç ‚Äî –∫–æ—Å—Ç–∏/–∂–µ–ª—á–Ω—ã–µ –ø—É—Ç–∏; –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç.",
    "bilirubin": "–ë–∏–ª–∏—Ä—É–±–∏–Ω –æ–±—â–∏–π: ~5‚Äì21 –º–∫–º–æ–ª—å/–ª. –†–æ—Å—Ç ‚Äî –≥–µ–º–æ–ª–∏–∑/–ø–µ—á–µ–Ω—å/–∂–µ–ª—á–Ω—ã–µ –ø—É—Ç–∏. –§—Ä–∞–∫—Ü–∏–∏: –ø—Ä—è–º–æ–π/–Ω–µ–ø—Ä—è–º–æ–π.",
    "creatinine": "–ö—Ä–µ–∞—Ç–∏–Ω–∏–Ω + eGFR. –ù–æ—Ä–º—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–æ–ª–∞/–º—ã—à—Ü. –í–∞–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å eGFR –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—á–µ–∫.",
    "urea": "–ú–æ—á–µ–≤–∏–Ω–∞: –æ—Ä–∏–µ–Ω—Ç–∏—Ä ~2.5‚Äì8.3 –º–º–æ–ª—å/–ª. –†–æ—Å—Ç ‚Äî –±–µ–ª–æ–∫/–¥–µ–≥–∏–¥—Ä–∞—Ç–∞—Ü–∏—è/–ø–æ—á–∫–∏; –Ω–∏–∑–∫–æ ‚Äî –ø–µ—á–µ–Ω—å/–Ω–∏–∑–∫–∏–π –±–µ–ª–æ–∫.",
    "uric_acid": "–ú–æ—á–µ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞: ‚ôÇ ~210‚Äì420, ‚ôÄ ~150‚Äì360 –º–∫–º–æ–ª—å/–ª. –†–æ—Å—Ç ‚Äî —Ä–∏—Å–∫ –ø–æ–¥–∞–≥—Ä—ã/–ú–µ—Ç–∞–°; –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Ü–∏–æ–Ω –∏ –æ–±—Å—É–∂–¥–∞—Ç—å —Å –≤—Ä–∞—á–æ–º.",
    "lipids": "–õ–∏–ø–∏–¥—ã: –û–•–°, –õ–ü–ù–ü, –õ–ü–í–ü, –¢–ì. –¶–µ–ª–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã. –ß–∞—Å—Ç–æ: –õ–ü–ù–ü –∫–∞–∫ –º–æ–∂–Ω–æ –Ω–∏–∂–µ –ø—Ä–∏ —Ä–∏—Å–∫–∞—Ö; –õ–ü–í–ü –≤—ã—à–µ –ª—É—á—à–µ; –¢–ì <1.7 –º–º–æ–ª—å/–ª.",
    "crp": "CRP –≤—ã—Å–æ–∫–æ–π —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: <1 –º–≥/–ª ‚Äî –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫; 1‚Äì3 ‚Äî —É–º–µ—Ä–µ–Ω–Ω—ã–π; >3 ‚Äî –≤—ã—Å–æ–∫–∏–π (–∫–∞—Ä–¥–∏–æ—Ä–∏—Å–∫). –û—Å—Ç—Ä–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç –ø—Ä–∏ –≤–æ—Å–ø–∞–ª–µ–Ω–∏–∏.",
    "tsh": "–¢–¢–ì: –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã ~0.4‚Äì4.0 –º–ï–¥/–ª; —É—á–∏—Ç—ã–≤–∞—Ç—å FT4/FT3, –∂–∞–ª–æ–±—ã. –ë–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –¥—Ä—É–≥–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã.",
    "ft4": "–°–≤. T4: –∏–Ω—Ç–µ—Ä–≤–∞–ª –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏. –í–∞–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–º–µ—Å—Ç–µ —Å –¢–¢–ì.",
    "iron": "–ñ–µ–ª–µ–∑–æ —Å—ã–≤–æ—Ä–æ—Ç–æ—á–Ω–æ–µ + OZHSS/—Ñ–µ—Ä—Ä–∏—Ç–∏–Ω ‚Äî —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–µ. –ü–æ –æ–¥–∏–Ω–æ—á–∫–µ –º–∞–ª–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ.",
    "magnesium": "–ú–∞–≥–Ω–∏–π: –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã ~0.66‚Äì1.07 –º–º–æ–ª—å/–ª (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–∞–±.). –°–∏–º–ø—Ç–æ–º—ã –≤–∞–∂–Ω–µ–µ —Ü–∏—Ñ—Ä, –æ–±—Å—É–∂–¥–∞—Ç—å —Å –≤—Ä–∞—á–æ–º.",
    "calcium": "–ö–∞–ª—å—Ü–∏–π –æ–±—â–∏–π/–∏–æ–Ω–∏–∑.: —É—á–∏—Ç—ã–≤–∞—Ç—å –∞–ª—å–±—É–º–∏–Ω. –í–∞–∂–Ω–æ –ø—Ä–∏ –æ—Å—Ç–µ–æ–ø–æ—Ä–æ–∑–µ/–ü–¢–ì/–¥–µ—Ñ–∏—Ü–∏—Ç–∞—Ö.",
    "potassium": "–ö–∞–ª–∏–π ~3.5‚Äì5.1 –º–º–æ–ª—å/–ª. –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è (—Å–µ—Ä–¥—Ü–µ/–ø–æ—á–∫–∏/–ª–µ–∫–∞—Ä—Å—Ç–≤–∞).",
    "sodium": "–ù–∞—Ç—Ä–∏–π ~135‚Äì145 –º–º–æ–ª—å/–ª. –ò–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî —á–∞—â–µ –≤–æ–¥–∞/–≥–æ—Ä–º–æ–Ω—ã/–ø–æ—á–∫–∏.",
    "platelets": "–¢—Ä–æ–º–±–æ—Ü–∏—Ç—ã ~150‚Äì400√ó10^9/–ª. –ù–∏–∑–∫–æ/–≤—ã—Å–æ–∫–æ ‚Äî –∫ –≤—Ä–∞—á—É, —Å–º–æ—Ç—Ä–µ—Ç—å –∫–ª–∏–Ω–∏–∫—É.",
    "wbc": "–õ–µ–π–∫–æ—Ü–∏—Ç—ã ~4‚Äì10√ó10^9/–ª. –í–≤–µ—Ä—Ö ‚Äî –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ/–∏–Ω—Ñ–µ–∫—Ü–∏—è/—Å—Ç—Ä–µ—Å—Å; –≤–Ω–∏–∑ ‚Äî –≤–∏—Ä—É—Å/–∫—Ä–æ–≤–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ/–ø—Ä–µ–ø–∞—Ä–∞—Ç—ã. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞.",
    "rbc": "–≠—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã/–≥–µ–º–∞—Ç–æ–∫—Ä–∏—Ç: –æ—Ü–µ–Ω–∫–∞ –∫–∏—Å–ª–æ—Ä–æ–¥–æ–ø–µ—Ä–µ–Ω–æ—Å–∞ –∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏. –° –≤—Ä–∞—á–æ–º.",
}

# ---------------
# –ü–û–õ–ï–ó–ù–´–ï –£–¢–ò–õ–´
# ---------------
async def reply_long(update: Update, text: str):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ —á–∞—Å—Ç—è–º–∏ <4096 —Å–∏–º–≤–æ–ª–æ–≤."""
    chunk = 3500
    for i in range(0, len(text), chunk):
        await update.message.reply_text(text[i:i+chunk])

def pick(items: List[str], k: int = 1) -> List[str]:
    k = max(1, min(k, len(items)))
    return random.sample(items, k)

def parse_int_arg(args: List[str], default: int) -> int:
    if not args:
        return default
    try:
        val = int(args[0])
        return max(1, val)
    except:
        return default

# -------------
# HANDLERS
# -------------
async def cmd_start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "üëã –ü—Ä–∏–≤–µ—Ç! –Ø LifeRhythmBot.\n"
        "–ö–æ–º–∞–Ω–¥—ã: /menu ‚Äî –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã, /help ‚Äî –ø–æ–º–æ—â—å."
    )

async def cmd_help(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
        "/menu ‚Äî –º–µ–Ω—é —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏\n"
        "/water [–º–ª] ‚Äî —É—á—ë—Ç –≤–æ–¥—ã (+250 –º–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)\n"
        "/water_reset ‚Äî –æ–±–Ω—É–ª–∏—Ç—å –≤–æ–¥—É –∑–∞ —Å–µ–≥–æ–¥–Ω—è\n"
        "/exercise [n] ‚Äî –∫–æ–º–ø–ª–µ–∫—Å—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\n"
        "/meditation [n] ‚Äî –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏/–º–µ–¥–∏—Ç–∞—Ü–∏–∏\n"
        "/yoga [n] ‚Äî –ø–æ–∑—ã/—Å–≤—è–∑–∫–∏ –π–æ–≥–∏\n"
        "/nutrition [n] ‚Äî —Å–æ–≤–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é\n"
        "/analysis <–Ω–∞–∑–≤–∞–Ω–∏–µ> ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ (–Ω–∞–ø—Ä. /analysis ferritin)\n"
        "/setdob DD.MM.YYYY ‚Äî –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è\n"
        "/biorhythm ‚Äî —Ä–∞—Å—á—ë—Ç –±–∏–æ—Ä–∏—Ç–º–æ–≤ (–ø–æ—Å–ª–µ /setdob)\n"
        "–ü–æ–¥—Å—Ç–∞–≤—å —á–∏—Å–ª–æ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä. /exercise 5)."
    )

async def cmd_menu(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "üì¶ –†–∞–∑–¥–µ–ª—ã:\n"
        "‚Ä¢ /water, /water_reset ‚Äî —É—á—ë—Ç –≤–æ–¥—ã\n"
        "‚Ä¢ /exercise [n] ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)\n"
        "‚Ä¢ /meditation [n] ‚Äî –¥—ã—Ö–∞–Ω–∏–µ/–º–µ–¥–∏—Ç–∞—Ü–∏—è\n"
        "‚Ä¢ /yoga [n] ‚Äî –ø–æ–∑—ã/—Å–≤—è–∑–∫–∏\n"
        "‚Ä¢ /nutrition [n] ‚Äî –ø–∏—Ç–∞–Ω–∏–µ/—Å–æ–≤–µ—Ç—ã\n"
        "‚Ä¢ /analysis <–∞–Ω–∞–ª–∏–∑> ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞\n"
        "‚Ä¢ /setdob DD.MM.YYYY ‚Üí /biorhythm"
    )

async def cmd_water(update: Update, context: ContextTypes.DEFAULT_TYPE):
    amount = 250
    if context.args:
        try:
            amount = max(50, min(1000, int(context.args[0])))
        except:
            pass
    key = day_key(update.effective_user.id)
    total = WATER_STATE.get(key, 0) + amount
    WATER_STATE[key] = total
    await update.message.reply_text(f"üíß +{amount} –º–ª. –í—Å–µ–≥–æ —Å–µ–≥–æ–¥–Ω—è: {total} –º–ª.")

async def cmd_water_reset(update: Update, context: ContextTypes.DEFAULT_TYPE):
    key = day_key(update.effective_user.id)
    WATER_STATE.pop(key, None)
    await update.message.reply_text("üîÅ –£—á—ë—Ç –≤–æ–¥—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è –æ–±–Ω—É–ª—ë–Ω.")

async def cmd_exercise(update: Update, context: ContextTypes.DEFAULT_TYPE):
    n = parse_int_arg(context.args, 3)
    items = pick(EXERCISES, n)
    await reply_long(update, "üèÉ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:\n\n" + "\n\n".join(items))

async def cmd_meditation(update: Update, context: ContextTypes.DEFAULT_TYPE):
    n = parse_int_arg(context.args, 3)
    items = pick(MEDITATIONS, n)
    await reply_long(update, "üßò –ú–µ–¥–∏—Ç–∞—Ü–∏–∏/–¥—ã—Ö–∞–Ω–∏–µ:\n\n" + "\n\n".join(items))

async def cmd_yoga(update: Update, context: ContextTypes.DEFAULT_TYPE):
    n = parse_int_arg(context.args, 3)
    items = pick(YOGA, n)
    await reply_long(update, "üßò‚Äç‚ôÄÔ∏è –ô–æ–≥–∞:\n\n" + "\n\n".join(items))

async def cmd_nutrition(update: Update, context: ContextTypes.DEFAULT_TYPE):
    n = parse_int_arg(context.args, 5)
    items = pick(NUTRITION, n)
    await reply_long(update, "ü•ó –ü–∏—Ç–∞–Ω–∏–µ:\n\n" + "\n\n".join(items))

async def cmd_analysis(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not context.args:
        await update.message.reply_text(
            "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /analysis <–Ω–∞–∑–≤–∞–Ω–∏–µ>\n"
            "–î–æ—Å—Ç—É–ø–Ω–æ: " + ", ".join(sorted(ANALYSIS.keys()))
        )
        return
    key = context.args[0].lower()
    info = ANALYSIS.get(key)
    if not info:
        await update.message.reply_text(
            "–ù–µ –∑–Ω–∞—é —Ç–∞–∫–æ–π –∞–Ω–∞–ª–∏–∑. –ü–æ–ø—Ä–æ–±—É–π:\n" + ", ".join(sorted(ANALYSIS.keys()))
        )
        return
    await reply_long(update, f"üß™ {key}:\n{info}\n\n‚ö†Ô∏è –°–ø—Ä–∞–≤–∫–∞ –Ω–æ—Å–∏—Ç –æ–±—â–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞.")

async def cmd_setdob(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not context.args:
        await update.message.reply_text("–§–æ—Ä–º–∞—Ç: /setdob DD.MM.YYYY (–Ω–∞–ø—Ä–∏–º–µ—Ä, /setdob 14.02.1990)")
        return
    dob = context.args[0]
    try:
        datetime.strptime(dob, "%d.%m.%Y")
        USER_DOB[update.effective_user.id] = dob
        await update.message.reply_text(f"‚úÖ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: {dob}")
    except:
        await update.message.reply_text("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ù—É–∂–µ–Ω DD.MM.YYYY")

def _biorhythm_calc(birth: date, target: date) -> Dict[str, int]:
    # –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å: —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π 23–¥, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π 28–¥, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π 33–¥
    days = (target - birth).days
    import math
    def wave(period):
        return int(round( (math.sin(2*math.pi*days/period)) * 100 ))
    return {
        "physical": wave(23),
        "emotional": wave(28),
        "intellectual": wave(33),
    }

async def cmd_biorhythm(update: Update, context: ContextTypes.DEFAULT_TYPE):
    dob = USER_DOB.get(update.effective_user.id)
    if not dob:
        await update.message.reply_text("–°–Ω–∞—á–∞–ª–∞ –∑–∞–¥–∞–π –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è: /setdob DD.MM.YYYY")
        return
    bdate = datetime.strptime(dob, "%d.%m.%Y").date()
    today = date.today()
    br = _biorhythm_calc(bdate, today)
    await update.message.reply_text(
        f"üìä –ë–∏–æ—Ä–∏—Ç–º—ã –Ω–∞ {today.strftime('%d.%m.%Y')}:\n"
        f"–§–∏–∑–∏—á–µ—Å–∫–∏–π: {br['physical']}%\n"
        f"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π: {br['emotional']}%\n"
        f"–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π: {br['intellectual']}%\n"
        f"–≠—Ç–æ –∏–≥—Ä—É—à–µ—á–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏, –Ω–µ –º–µ–¥–∏—Ü–∏–Ω–∞ üôÇ"
    )

# ================
# TELEGRAM + FLASK
# ================
application: Application = ApplicationBuilder().token(BOT_TOKEN).build()

# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã
application.add_handler(CommandHandler("start", cmd_start))
application.add_handler(CommandHandler("help", cmd_help))
application.add_handler(CommandHandler("menu", cmd_menu))
application.add_handler(CommandHandler("water", cmd_water))
application.add_handler(CommandHandler("water_reset", cmd_water_reset))
application.add_handler(CommandHandler("exercise", cmd_exercise))
application.add_handler(CommandHandler("meditation", cmd_meditation))
application.add_handler(CommandHandler("yoga", cmd_yoga))
application.add_handler(CommandHandler("nutrition", cmd_nutrition))
application.add_handler(CommandHandler("analysis", cmd_analysis))
application.add_handler(CommandHandler("setdob", cmd_setdob))
application.add_handler(CommandHandler("biorhythm", cmd_biorhythm))

flask_app = Flask(__name__)

PTB_LOOP = None  # —Å—é–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏–º event loop PTB

@flask_app.get("/")
def root():
    return "LifeRhythmBot is alive."

@flask_app.get("/healthz")
def health():
    return jsonify(ok=True, time=datetime.utcnow().isoformat())

@flask_app.get("/setwebhook")
def set_webhook_http():
    # –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±—Ö—É–∫–∞ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
    url = f"{PUBLIC_URL}/webhook/{WEBHOOK_SECRET}"
    fut = asyncio.run_coroutine_threadsafe(
        application.bot.set_webhook(
            url=url,
            drop_pending_updates=True,
            allowed_updates=Update.ALL_TYPES
        ),
        PTB_LOOP
    )
    result = fut.result(timeout=20)
    return jsonify(set=True, url=url, result=result)

@flask_app.post(f"/webhook/{WEBHOOK_SECRET}")
def telegram_webhook():
    update = Update.de_json(request.get_json(force=True), application.bot)
    # –û—Ç–¥–∞—ë–º –∞–ø–¥–µ–π—Ç—ã PTB –≤ –µ–≥–æ event loop
    asyncio.run_coroutine_threadsafe(application.process_update(update), PTB_LOOP)
    return "OK"

async def ptb_main():
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PTB –≤ —Å–≤–æ—ë–º event loop
    await application.initialize()
    await application.start()

    # –°—Ç–∞–≤–∏–º –≤–µ–±—Ö—É–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    url = f"{PUBLIC_URL}/webhook/{WEBHOOK_SECRET}"
    await application.bot.set_webhook(
        url=url,
        drop_pending_updates=True,
        allowed_updates=Update.ALL_TYPES
    )

    # –î–µ—Ä–∂–∏–º —Ü–∏–∫–ª –∂–∏–≤—ã–º
    await asyncio.Event().wait()

def run_ptb_loop():
    global PTB_LOOP
    PTB_LOOP = asyncio.new_event_loop()
    asyncio.set_event_loop(PTB_LOOP)
    PTB_LOOP.run_until_complete(ptb_main())

def run_flask():
    flask_app.run(host="0.0.0.0", port=PORT)

if __name__ == "__main__":
    # 1) –ó–∞–ø—É—Å–∫–∞–µ–º PTB (–≤–µ–±—Ö—É–∫–∏) –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç—Ä–µ–¥–µ/loop
    threading.Thread(target=run_ptb_loop, daemon=True).start()
    # 2) –ü–æ–¥–Ω–∏–º–∞–µ–º Flask (Render –≤–∏–¥–∏—Ç –ø–æ—Ä—Ç ‚Üí ¬´—Å–µ—Ä–≤–∏—Å –∂–∏–≤¬ª)
    run_flask()
