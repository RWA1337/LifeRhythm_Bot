import os
import threading
import random
from datetime import datetime, date
from flask import Flask
from telegram import Update
from telegram.ext import (
    ApplicationBuilder, CommandHandler, ContextTypes
)

# ========= –ù–ê–°–¢–†–û–ô–ö–ò =========
BOT_TOKEN = os.getenv("BOT_TOKEN")  # –Ω–∞ Render –≤ Environment Variables
BOT_NAME = "LifeRhythm Bot"

# ========= –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–û–ï =========
def chunk_unique(seq, k):
    """–í–µ—Ä–Ω—É—Ç—å k —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."""
    if k >= len(seq):
        return random.sample(seq, len(seq))
    return random.sample(seq, k)

def format_list(items, title=None, bullet="‚Ä¢"):
    head = f"{title}\n" if title else ""
    return head + "\n".join(f"{bullet} {x}" for x in items)

# ========= –î–ê–ù–ù–´–ï: –ô–û–ì–ê (60+) =========
YOGA_POSES = [
    "–ü–æ–∑–∞ –≥–æ—Ä—ã (–¢–∞–¥–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –¥–µ—Ä–µ–≤–∞ (–í—Ä–∏–∫—à–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –∫–æ–±—Ä—ã (–ë—Ö—É–¥–∂–∞–Ω–≥–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ —Å–æ–±–∞–∫–∏ –º–æ—Ä–¥–æ–π –≤–Ω–∏–∑ (–ê–¥—Ö–æ –ú—É–∫—Ö–∞ –®–≤–∞–Ω–∞—Å–∞–Ω–∞)", "–ü–ª–∞–Ω–∫–∞ (–ö—É–º–±—Ö–∞–∫–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ —Ä–µ–±—ë–Ω–∫–∞ (–ë–∞–ª–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ (–¢—Ä–∏–∫–æ–Ω–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –≤–æ–∏–Ω–∞ I (–í–∏—Ä–∞–±—Ö–∞–¥—Ä–∞—Å–∞–Ω–∞ I)",
    "–ü–æ–∑–∞ –≤–æ–∏–Ω–∞ II (–í–∏—Ä–∞–±—Ö–∞–¥—Ä–∞—Å–∞–Ω–∞ II)", "–ü–æ–∑–∞ –≤–æ–∏–Ω–∞ III (–í–∏—Ä–∞–±—Ö–∞–¥—Ä–∞—Å–∞–Ω–∞ III)",
    "–ü–æ–∑–∞ –ø–æ–ª—É–º–µ—Å—è—Ü–∞ (–ê—Ä–¥—Ö–∞ –ß–∞–Ω–¥—Ä–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –ª–æ–¥–∫–∏ (–ù–∞–≤–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –º–æ—Å—Ç–∞ (–°–µ—Ç—É –ë–∞–Ω–¥—Ö–∞ –°–∞—Ä–≤–∞–Ω–≥–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ –≤–µ—Ä–±–ª—é–¥–∞ (–£—à—Ç—Ä–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –±–∞–±–æ—á–∫–∏ (–ë–∞–¥–¥—Ö–∞ –ö–æ–Ω–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –≥–æ–ª—É–±—è (–≠–∫–∞ –ü–∞–¥–∞ –†–∞–¥–∂–∞–∫–∞–ø–æ—Ç–∞—Å–∞–Ω–∞)",
    "–°–∫—Ä—É—Ç–∫–∞ —Å–∏–¥—è (–ê—Ä–¥—Ö–∞ –ú–∞—Ç—Å–∏–µ–Ω–¥—Ä–∞—Å–∞–Ω–∞)", "–ù–∞–∫–ª–æ–Ω –∫ –Ω–æ–≥–∞–º —Å–∏–¥—è (–ü–∞—à—á–∏–º–æ—Ç—Ç–∞–Ω–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ –∫–æ—à–∫–∏ (–ú–∞—Ä–¥–∂–∞—Ä–∏–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –∫–æ—Ä–æ–≤—ã (–ë–∏—Ç–∏–ª–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ —Å—Ñ–∏–Ω–∫—Å–∞", "–ü–æ–∑–∞ —â–µ–Ω–∫–∞",
    "–ü–æ–∑–∞ —è—â–µ—Ä–∏—Ü—ã", "–ü–æ–∑–∞ —à–∏—Ä–æ–∫–æ–π –Ω–æ–≥–∏ –≤–ø–µ—Ä—ë–¥ (–ü—Ä–∞—Å–∞—Ä–∏—Ç–∞ –ü–∞–¥–æ—Ç—Ç–∞–Ω–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ —Å—Ç—É–ª–∞ (–£—Ç–∫–∞—Ç–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –æ—Ä–ª–∞ (–ì–∞—Ä—É–¥–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ —Ä—ã–±—ã (–ú–∞—Ü—å—è—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ –≥–µ—Ä–æ—è (–í–∏—Ä–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –ø–æ–ª—É–ª–æ—Ç–æ—Å–∞", "–ü–æ–∑–∞ —Å–∫–æ–ª—å–∂–µ–Ω–∏—è –ø–æ —Å—Ç–µ–Ω–µ (–≤–∞—Ä–∏–∞–Ω—Ç)",
    "–ü–æ–∑–∞ –∫—É–∑–Ω–µ—á–∏–∫–∞ (–°–∞–ª–∞–±—Ö–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –±–æ–∫–æ–≤–æ–π –ø–ª–∞–Ω–∫–∏ (–í–∞—Å–∏—à—Ç—Ö–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –≤–æ—Å—å–º–∏ —É–≥–ª–æ–≤",
    "–ü–æ–∑–∞ –∫—É–∑–Ω–µ—á–∏–∫–∞ —Å –≤–∞—Ä–∏–∞—Ü–∏–µ–π", "–ü–æ–∑–∞ –ª—É–Ω—ã –≤ –Ω–∞–∫–ª–æ–Ω–µ", "–ü–æ–∑–∞ –∫–æ—Ä–æ–ª—è —Ç–∞–Ω—Ü–æ—Ä–æ–≤ (–ù–∞—Ç–∞—Ä–∞–¥–∂–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ —É—Ç–∫–∏ (–≤–∞—Ä–∏–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞)", "–ü–æ–∑–∞ –∫–æ–ª–µ–Ω–∞ –∫ –≥—Ä—É–¥–∏ –ª—ë–∂–∞", "–ü–æ–∑–∞ –º—Ä–∞–º–æ—Ä–Ω–æ–π –ø–ª–∏—Ç—ã (–≤–∞—Ä–∏–∞–Ω—Ç –ø–ª–∞–Ω–∫–∏)",
    "–ü–æ–∑–∞ –ª—É–Ω—ã —Å–∏–¥—è", "–ü–æ–∑–∞ –≥–æ–ª–æ–≤—ã –∫ –∫–æ–ª–µ–Ω—É (–î–∂–∞–Ω—É –®–∏—Ä—à–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –∫–æ—Ä–∑–∏–Ω—ã (–î—Ö–∞–Ω—É—Ä–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ –±–µ—Ä—ë–∑–∫–∏ (–°–∞—Ä–≤–∞–Ω–≥–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –ø–ª—É–≥–∞ (–•–∞–ª–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ —Å—Ç–æ–π–∫–∏ –Ω–∞ –≥–æ–ª–æ–≤–µ (–®–∏—Ä—à–∞—Å–∞–Ω–∞, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)",
    "–ü–æ–∑–∞ –ø–æ–ª—ë—Ç –≤–æ—Ä–æ–Ω—ã (–ë–∞–∫–∞–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ —â—É–∫–∞ (–ù–∞–≤–∞—Å–∞–Ω–∞ –≤–∞—Ä–∏–∞—Ü–∏—è)", "–ü–æ–∑–∞ –æ—Ç–¥—ã—Ö–∞ (–®–∞–≤–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ —Ä–æ–º–±–∞ (–í–∞–¥–∂—Ä–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –º–æ–ª–æ—Ç–∞ (–¥–∏–Ω–∞–º–∏–∫–∞ –∫–æ—Ä–ø—É—Å–∞)", "–ü–æ–∑–∞ –±–æ–∫–æ–≤–æ–π –ª–æ–¥–∫–∏",
    "–ü–æ–∑–∞ —Å—Ç–æ–ª–∞", "–ü–æ–∑–∞ —â—É–∫–∏ —Å –ø–æ–≤–æ—Ä–æ—Ç–æ–º", "–ü–æ–∑–∞ –ø–æ–ª—É–º–µ—Å—è—Ü–∞ —É —Å—Ç–µ–Ω—ã", "–ü–æ–∑–∞ –ø–æ–ª–µ—Ç –≤–æ—Ä–æ–Ω—ã –±–æ–∫–æ–≤–∞—è",
    "–ü–æ–∑–∞ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Å –∑–∞—Ö–≤–∞—Ç–æ–º", "–ü–æ–∑–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π –≤—ã—Ç—è–∂–∫–∏ (–£—Ç—Ç–∞–Ω–∞—Å–∞–Ω–∞)",
    "–ü–æ–∑–∞ –ø–∞–ª—å–º—ã", "–ü–æ–∑–∞ –∫—Ä–æ–ª–∏–∫–∞ (–°–∞—Å–∞–Ω–≥–∞—Å–∞–Ω–∞)", "–ü–æ–∑–∞ –ª—å–≤–∞ (–°–∏–º—Ö–∞—Å–∞–Ω–∞)"
]

# ========= –î–ê–ù–ù–´–ï: –ú–ï–î–ò–¢–ê–¶–ò–ò/–î–´–•–ê–ù–ò–ï (50+) =========
BREATH_TECHS = [
    "–ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 4‚Äì4‚Äì4‚Äì4", "–î—ã—Ö–∞–Ω–∏–µ 4‚Äì7‚Äì8 –¥–ª—è –∑–∞—Å—ã–ø–∞–Ω–∏—è",
    "–ì–ª—É–±–æ–∫–æ–µ –¥–∏–∞—Ñ—Ä–∞–≥–º–∞–ª—å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ", "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–æ–∑–¥—Ä–∏ (–ù–∞–¥–∏ –®–æ–¥—Ö–∞–Ω–∞)",
    "–î—ã—Ö–∞–Ω–∏–µ ¬´–∫–æ—Ä–æ–±–æ—á–∫–∞¬ª 5‚Äì5‚Äì5‚Äì5", "–î—ã—Ö–∞–Ω–∏–µ 6‚Äì3‚Äì6 (–≤–∞—Ä–∏–∞–Ω—Ç HRV)",
    "–î—ã—Ö–∞–Ω–∏–µ –ø–æ –º–µ—Ç—Ä–æ–Ω–æ–º—É 5 —Å–µ–∫ –≤–¥–æ—Ö / 5 —Å–µ–∫ –≤—ã–¥–æ—Ö", "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–∞ —Å –¥—ã—Ö–∞–Ω–∏–µ–º",
    "–î—ã—Ö–∞–Ω–∏–µ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤–æ–ª–Ω—ã", "–î—ã—Ö–∞–Ω–∏–µ –æ–≥–Ω—è (–ö–∞–ø–∞–ª–∞–±—Ö–∞—Ç–∏ ‚Äî –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, 20‚Äì40 —Å–µ–∫)",
    "–î—ã—Ö–∞–Ω–∏–µ 3‚Äì3‚Äì6 (—É–¥–ª–∏–Ω—ë–Ω–Ω—ã–π –≤—ã–¥–æ—Ö)", "–û—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ –≤–¥–æ—Ö–∏ —Å –ø–æ–¥—Å—á—ë—Ç–æ–º 1‚Äì10",
    "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´3 –º–∏–Ω—É—Ç—ã —Ç–∏—à–∏–Ω—ã¬ª", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–ó–∞–∑–µ–º–ª–µ–Ω–∏–µ¬ª (–æ—â—É—â–µ–Ω–∏—è —Å—Ç–æ–ø)",
    "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ (5 –ø—Ä–µ–¥–º–µ—Ç–æ–≤)", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –Ω–∞ –∑–≤—É–∫ (—Ñ–æ–∫—É—Å –Ω–∞ –æ–∫—Ä—É–∂–∞—é—â–∏—Ö –∑–≤—É–∫–∞—Ö)",
    "–î—ã—Ö–∞–Ω–∏–µ 5‚Äì5 (–∫–æ—Ö–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å, 5 –º–∏–Ω—É—Ç)", "–î—ã—Ö–∞–Ω–∏–µ –ø–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫—É 4‚Äì4‚Äì8",
    "–î—ã—Ö–∞–Ω–∏–µ –∫–æ—Ä–æ–±–æ—á–∫–æ–π 6‚Äì6‚Äì6‚Äì6", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–í —Ç–µ–ª–µ –∑–¥–µ—Å—å –∏ —Å–µ–π—á–∞—Å¬ª",
    "–î—ã—Ö–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≥—É–±—ã (pursed-lip) 4‚Äì6", "–î—ã—Ö–∞–Ω–∏–µ –ø–æ —Å—Ö–µ–º–µ 2‚Äì4‚Äì6‚Äì8",
    "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –ª—é–±–≤–∏-–¥–æ–±—Ä–æ—Ç—ã (–º–µ—Ç—Ç–∞)", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –º—ã—Å–ª—è–º–∏¬ª",
    "–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ –º—ã—à—Ü –ø–æ –î–∂–µ–∫–æ–±—Å–æ–Ω—É (–∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è)", "–î—ã—Ö–∞–Ω–∏–µ 1‚Äì4 (—É—Å–ø–æ–∫–æ–µ–Ω–∏–µ)",
    "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–°—á—ë—Ç –≤—ã–¥–æ—Ö–æ–≤¬ª", "Walking-mindfulness (5‚Äì10 –º–∏–Ω—É—Ç)", "–ó–≤—É–∫–æ–≤–æ–µ ¬´–æ–º¬ª –Ω–∞ –≤—ã–¥–æ—Ö–µ (–º—è–≥–∫–æ)",
    "–î—ã—à–∏–º 3‚Äì6 (—É—Å–ø–æ–∫–æ–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º)", "–î—ã—Ö–∞–Ω–∏–µ 5‚Äì7‚Äì5", "–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—Ç–æ–≤–æ–≥–æ —à–∞—Ä–∞",
    "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –Ω–∞ –¥—ã—Ö–∞–Ω–∏–∏ –≤ –∂–∏–≤–æ—Ç", "–î—ã—Ö–∞–Ω–∏–µ 4‚Äì4‚Äì6",
    "–ú–µ—Ç—Ç–∞ + –¥—ã—Ö–∞–Ω–∏–µ 5 –º–∏–Ω—É—Ç", "3 —Ü–∏–∫–ª–∞ –ø–æ–ª–Ω–æ–≥–æ –π–æ–≥–æ–≤—Å–∫–æ–≥–æ –¥—ã—Ö–∞–Ω–∏—è", "–î—ã—Ö–∞–Ω–∏–µ –≤–æ–ª–Ω–æ—Ä–µ–∑–æ–º 5 –º–∏–Ω—É—Ç",
    "–£–¥–¥–∏—è–Ω–∞-–±–∞–Ω–¥—Ö–∞ –º—è–≥–∫–æ (—Ç–æ–ª—å–∫–æ –æ–ø—ã—Ç–Ω—ã–º)", "–ë—Ä–∞–º–∞—Ä–∏ (–∂—É–∂–∂–∞–Ω–∏–µ –ø—á–µ–ª—ã, –º—è–≥–∫–æ)",
    "–ù–∞—Å—á–∏—Ç–∞–Ω–Ω—ã–µ 10 –≤—ã–¥–æ—Ö–æ–≤ (3 –ø–æ–≤—Ç–æ—Ä–∞)", "–£–¥–ª–∏–Ω—ë–Ω–Ω—ã–π –≤—ã–¥–æ—Ö 3√ó1 –º–∏–Ω—É—Ç–∞", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–ö–∏–Ω–µ—Å—Ç–µ—Ç–∏–∫–∞ —Ä—É–∫¬ª",
    "–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –º–µ—Å—Ç–∞", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–û–±–ª–∞–∫–∞ –º—ã—Å–ª–µ–π¬ª", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å¬ª",
    "–î—ã—Ö–∞–Ω–∏–µ –≤ –∫–≤–∞–¥—Ä–∞—Ç–µ 3‚Äì3‚Äì3‚Äì3", "–ö–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 6/–º", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è ¬´–ú—è–≥–∫–∏–π –≤–∑–≥–ª—è–¥¬ª",
    "–î—ã—Ö–∞–Ω–∏–µ ~5.5 —Å–µ–∫ –≤–¥–æ—Ö/–≤—ã–¥–æ—Ö (HRV)", "–î—ã—Ö–∞–Ω–∏–µ 2‚Äì2‚Äì4 (–∫–æ—Ä–æ—Ç–∫–æ–µ —É—Å–ø–æ–∫–æ–µ–Ω–∏–µ)"
]

# ========= –î–ê–ù–ù–´–ï: –ü–ò–¢–ê–ù–ò–ï (100+ –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω–æ) =========
# –ë–∞–∑–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
NUTRITION_BASE = [
    "–ü–µ–π—Ç–µ –≤–æ–¥—É: —Ü–µ–ª—å ~30 –º–ª/–∫–≥/–¥–µ–Ω—å", "–î–æ–±–∞–≤–ª—è–π—Ç–µ –æ–≤–æ—â–∏ –≤ –∫–∞–∂–¥—ã–π –ø—Ä–∏—ë–º –ø–∏—â–∏",
    "–ë–µ–ª–æ–∫ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–∏—ë–º–µ (—è–π—Ü–∞/—Ä—ã–±–∞/–ø—Ç–∏—Ü–∞/–±–æ–±–æ–≤—ã–µ)", "–°–Ω–∏–∂–∞–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ —Å–∞—Ö–∞—Ä–∞ –∏ —Å–ª–∞–¥–∫–∏–µ –Ω–∞–ø–∏—Ç–∫–∏",
    "–¶–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤—ã–µ –≤–º–µ—Å—Ç–æ —Ä–∞—Ñ–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö", "–ö–ª–µ—Ç—á–∞—Ç–∫–∞ 20‚Äì30 –≥/—Å—É—Ç–∫–∏ (–æ–≤–æ—â–∏, –æ—Ç—Ä—É–±–∏, –±–æ–±–æ–≤—ã–µ)",
    "–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–∫—É—Å—ã (–π–æ–≥—É—Ä—Ç/—Ç–≤–æ—Ä–æ–≥/–æ—Ä–µ—Ö–∏/—Ñ—Ä—É–∫—Ç—ã)", "–°–æ–ª—å ‚â§5 –≥/—Å—É—Ç–∫–∏",
    "–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–∑–º–µ—Ä–æ–º –ø–æ—Ä—Ü–∏–π (—Ç–∞—Ä–µ–ª–∫–∞ 50/25/25 ‚Äî –æ–≤–æ—â–∏/–±–µ–ª–æ–∫/—É–≥–ª–µ–≤–æ–¥—ã)",
    "–ï—à—å—Ç–µ –º–µ–¥–ª–µ–Ω–Ω–æ, –º–∏–Ω–∏–º—É–º 15‚Äì20 –º–∏–Ω—É—Ç –Ω–∞ –ø—Ä–∏—ë–º", "–î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–µ–ª–µ–Ω—å –∏ —Ç—Ä–∞–≤—ã –≤–º–µ—Å—Ç–æ –ª–∏—à–Ω–µ–π —Å–æ–ª–∏",
    "–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Ç—Ä–∞–Ω—Å–∂–∏—Ä—ã (—Ñ–∞—Å—Ç—Ñ—É–¥, –≥–æ—Ç–æ–≤–∞—è –≤—ã–ø–µ—á–∫–∞)", "–†–µ–∂–∏–º 3‚Äì4 –ø—Ä–∏—ë–º–∞/–¥–µ–Ω—å –±–µ–∑ ¬´–¥–æ—Å—ã–ø–∞–Ω–∏–π¬ª —Å–ª–∞–¥–∫–∏–º",
    "–ó–∞–≤—Ç—Ä–∞–∫ —Å –±–µ–ª–∫–æ–º (–æ–º–ª–µ—Ç/—Ç–≤–æ—Ä–æ–≥/–≥—Ä–µ—á–µ—Å–∫–∏–π –π–æ–≥—É—Ä—Ç)", "–§—Ä—É–∫—Ç—ã 2‚Äì3 –ø–æ—Ä—Ü–∏–∏/–¥–µ–Ω—å",
    "–û—Ä–µ—Ö–∏ 20‚Äì30 –≥/–¥–µ–Ω—å (–º–∏–Ω–¥–∞–ª—å/–≥—Ä–µ—Ü–∫–∏–µ/—Ñ—É–Ω–¥—É–∫)", "–†—ã–±–∞ 2 —Ä–∞–∑–∞/–Ω–µ–¥ (–ª–æ—Å–æ—Å—å/—Å–∫—É–º–±—Ä–∏—è/—Å–∞—Ä–¥–∏–Ω—ã)",
    "–ë–æ–±–æ–≤—ã–µ 2‚Äì3 —Ä–∞–∑–∞/–Ω–µ–¥", "–ú–æ–ª–æ—á–Ω—ã–µ ‚Äî –≤—ã–±–∏—Ä–∞–π—Ç–µ —Ñ–µ—Ä–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (–∫–µ—Ñ–∏—Ä, —Ä—è–∂–µ–Ω–∫–∞)",
    "–ß—Ç–µ–Ω–∏–µ —ç—Ç–∏–∫–µ—Ç–æ–∫: —Å–∞—Ö–∞—Ä ‚â§5 –≥/100 –≥, –∫–ª–µ—Ç—á–∞—Ç–∫–∞ ‚â•6 –≥/100 –≥",
    "–ü–µ–π—Ç–µ —á–∞–π/–∫–æ—Ñ–µ –±–µ–∑ —Å–∞—Ö–∞—Ä–∞", "–£–∂–∏–Ω –∑–∞ 2‚Äì3 —á–∞—Å–∞ –¥–æ —Å–Ω–∞", "–°–æ–∫—Ä–∞—Ç–∏—Ç–µ –∞–ª–∫–æ–≥–æ–ª—å –¥–æ –º–∏–Ω–∏–º—É–º–∞",
    "–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–µ–Ω—é –Ω–∞ 2‚Äì3 –¥–Ω—è –≤–ø–µ—Ä—ë–¥", "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞—Ä–µ–ª–∫—É –ø–æ–º–µ–Ω—å—à–µ ‚Äî —Å—ä–µ–¥–∏—Ç–µ –º–µ–Ω—å—à–µ",
    "–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–º–∞", "–°–æ–±–ª—é–¥–∞–π—Ç–µ –ø–∏—â–µ–≤—É—é –≥–∏–≥–∏–µ–Ω—É (–º—ã—Ç—å—ë —Ä—É–∫, —Ö—Ä–∞–Ω–µ–Ω–∏–µ)",
    "–î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–µ–∑–æ–Ω–Ω—ã–µ –æ–≤–æ—â–∏/—Ñ—Ä—É–∫—Ç—ã", "–°–æ–±–ª—é–¥–∞–π—Ç–µ –±–∞–ª–∞–Ω—Å –ë–ñ–£, –Ω–µ –¥–µ–º–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã",
]

# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å–æ–≤–µ—Ç–æ–≤ (–¥–∞—é—Ç –¥–µ—Å—è—Ç–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫)
PROTEINS = ["–∫—É—Ä–∏—Ü–∞", "–∏–Ω–¥–µ–π–∫–∞", "—è–π—Ü–∞", "—Ç–≤–æ—Ä–æ–≥", "–ª–æ—Å–æ—Å—å", "—Ç—É–Ω–µ—Ü", "—Ñ–∞—Å–æ–ª—å", "—á–µ—á–µ–≤–∏—Ü–∞", "–Ω—É—Ç"]
CARBS = ["–≥—Ä–µ—á–∫–∞", "–æ–≤—Å—è–Ω–∫–∞", "–±—É—Ä—ã–π —Ä–∏—Å", "–∫–∏–Ω–æ–∞", "—Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω. –ø–∞—Å—Ç–∞", "–±–∞—Ç–∞—Ç"]
FATS = ["–æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ", "–∞–≤–æ–∫–∞–¥–æ", "–º–∏–Ω–¥–∞–ª—å", "–≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏", "—Å–µ–º–µ–Ω–∞ —á–∏–∞", "–ª—å–Ω—è–Ω–æ–µ —Å–µ–º—è"]
VEGGIES = ["–±—Ä–æ–∫–∫–æ–ª–∏", "—à–ø–∏–Ω–∞—Ç", "–º–æ—Ä–∫–æ–≤—å", "–ø–µ—Ä–µ—Ü", "–æ–≥—É—Ä–µ—Ü", "–ø–æ–º–∏–¥–æ—Ä", "–∫–∞–ø—É—Å—Ç–∞", "—Å–≤—ë–∫–ª–∞"]
FRUITS = ["—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "—è–≥–æ–¥—ã", "–≥—Ä—É—à–∞", "–∫–∏–≤–∏", "–∞–ø–µ–ª—å—Å–∏–Ω", "–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç"]
COOK = ["–∑–∞–ø–µ—á—å", "—Ç—É—à–∏—Ç—å", "–≥—Ä–∏–ª—å", "–Ω–∞ –ø–∞—Ä—É", "–≤ –¥—É—Ö–æ–≤–∫–µ", "–≤ –º—É–ª—å—Ç–∏–≤–∞—Ä–∫–µ"]

def generate_nutrition_tips(n=80):
    tips = []
    for _ in range(n):
        p = random.choice(PROTEINS)
        c = random.choice(CARBS)
        v = random.choice(VEGGIES)
        f = random.choice(FATS)
        m = random.choice(COOK)
        tip = f"–°–æ–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–µ–ª–∫—É: {p} + {c} + {v}; –≥–æ—Ç–æ–≤–∏—Ç—å: {m}; –∂–∏—Ä—ã: {f} (1 —Å—Ç.–ª.)."
        tips.append(tip)
    return tips

# ========= –î–ê–ù–ù–´–ï: –ê–ù–ê–õ–ò–ó–´ (80+ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π) =========
# –ö–ª—é—á–∏: –Ω–∏–∂–Ω–∏–π/–≤–µ—Ä—Ö–Ω–∏–π —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –¥–ª—è –≤–∑—Ä–æ—Å–ª–æ–≥–æ, –∫—Ä–∞—Ç–∫–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ (–ù–ï –º–µ–¥. –¥–∏–∞–≥–Ω–æ–∑!)
ANALYSIS = {
    "–≥–µ–º–æ–≥–ª–æ–±–∏–Ω": ("–º/–∂: 130‚Äì160 / 120‚Äì150 –≥/–ª", "–ù–∏–∑–∫–∏–π ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∂–µ–ª–µ–∑–æ, —Ä–∞—Ü–∏–æ–Ω; –≤—ã—Å–æ–∫–∏–π ‚Äî –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ/–∫—É—Ä–µ–Ω–∏–µ –∏ –ø—Ä."),
    "–≥–ª—é–∫–æ–∑–∞": ("3.5‚Äì5.5 –º–º–æ–ª—å/–ª –Ω–∞—Ç–æ—â–∞–∫", "–í—ã—à–µ ‚Äî –æ–±—Å—É–¥–∏—Ç—å —Å –≤—Ä–∞—á–æ–º —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫ –≥–ª—é–∫–æ–∑–µ."),
    "—Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –æ–±—â–∏–π": ("–¥–æ 5.2 –º–º–æ–ª—å/–ª", "–°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ –õ–ü–ù–ü/–õ–ü–í–ü, —Ç—Ä–∏–≥–ª–∏—Ü–µ—Ä–∏–¥—ã."),
    "–õ–ü–ù–ü": ("–¥–æ 3.0 –º–º–æ–ª—å/–ª", "–ß–µ–º –Ω–∏–∂–µ –ø—Ä–∏ —Ä–∏—Å–∫–∞—Ö –°–°–ó, —Ç–µ–º –ª—É—á—à–µ."),
    "–õ–ü–í–ü": (">1.0 (–º) / >1.2 (–∂) –º–º–æ–ª—å/–ª", "–í—ã—à–µ ‚Äî –æ–±—ã—á–Ω–æ –ª—É—á—à–µ."),
    "—Ç—Ä–∏–≥–ª–∏—Ü–µ—Ä–∏–¥—ã": ("–¥–æ 1.7 –º–º–æ–ª—å/–ª", "–í—ã—Å–æ–∫–∏–µ ‚Äî —Ä–∏—Å–∫–∏ –°–°–ó, –æ–±—Å—É–¥–∏—Ç—å —Ä–∞—Ü–∏–æ–Ω."),
    "—Å—ã–≤.–∂–µ–ª–µ–∑–æ": ("–º/–∂: 11‚Äì30 –º–∫–º–æ–ª—å/–ª", "–ù–∏–∑–∫–æ–µ ‚Äî –≤–æ–∑–º–æ–∂–µ–Ω –¥–µ—Ñ–∏—Ü–∏—Ç –∂–µ–ª–µ–∑–∞; —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–µ—Ä—Ä–∏—Ç–∏–Ω."),
    "—Ñ–µ—Ä—Ä–∏—Ç–∏–Ω": ("–º: 30‚Äì400, –∂: 15‚Äì150 –Ω–≥/–º–ª", "–ù–∏–∑–∫–∏–π ‚Äî —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ (–¥–µ—Ñ–∏—Ü–∏—Ç –∂–µ–ª–µ–∑–∞)."),
    "–≤–∏—Ç–∞–º–∏–Ω D": ("30‚Äì100 –Ω–≥/–º–ª (75‚Äì250 –Ω–º–æ–ª—å/–ª)", "–ù–∏–∑–∫–∏–π ‚Äî –æ–±—Å—É–¥–∏—Ç—å –¥–æ–±–∞–≤–∫–∏ —Å –≤—Ä–∞—á–æ–º."),
    "B12": ("200‚Äì900 –ø–≥/–º–ª", "–ù–∏–∑–∫–∏–π ‚Äî —Å–ª–∞–±–æ—Å—Ç—å/–æ–Ω–µ–º–µ–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ."),
    "—Ñ–æ–ª–∏–µ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞": (">3 –Ω–≥/–º–ª", "–ù–∏–∑–∫–∏–π ‚Äî –º–µ–≥–∞–ª–æ–±–ª–∞—Å—Ç–Ω–∞—è –∞–Ω–µ–º–∏—è, –ø–∏—Ç–∞–Ω–∏–µ."),
    "–∫–∞–ª—å—Ü–∏–π": ("2.15‚Äì2.55 –º–º–æ–ª—å/–ª", "–û—Ü–µ–Ω–∏–≤–∞–π—Ç–µ —Å –∞–ª—å–±—É–º–∏–Ω–æ–º."),
    "–º–∞–≥–Ω–∏–π": ("0.66‚Äì1.07 –º–º–æ–ª—å/–ª", "–ù–∏–∑–∫–∏–π ‚Äî —Å—É–¥–æ—Ä–æ–≥–∏/—É—Å—Ç–∞–ª–æ—Å—Ç—å."),
    "–∫—Ä–µ–∞—Ç–∏–Ω–∏–Ω": ("–º: 62‚Äì115, –∂: 53‚Äì97 –º–∫–º–æ–ª—å/–ª", "–°–º. –°–ö–§ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—á–µ–∫."),
    "–º–æ—á–µ–≤–∏–Ω–∞": ("2.8‚Äì7.2 –º–º–æ–ª—å/–ª", "–í—ã—Å–æ–∫–∞—è ‚Äî –±–µ–ª–∫–æ–≤–∞—è –¥–∏–µ—Ç–∞/–æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ/–ø–æ—á–∫–∏."),
    "–ê–õ–¢": ("–¥–æ 41 –ï–¥/–ª", "–ü–æ–≤—ã—à–µ–Ω–∏–µ ‚Äî –ø–µ—á–µ–Ω—å, –æ–±—Å—É–¥–∏—Ç—å —Å –≤—Ä–∞—á–æ–º."),
    "–ê–°–¢": ("–¥–æ 40 –ï–¥/–ª", "–°–º–æ—Ç—Ä–µ—Ç—å –≤–º–µ—Å—Ç–µ —Å –ê–õ–¢."),
    "–ì–ì–¢": ("–º: –¥–æ 60, –∂: –¥–æ 40 –ï–¥/–ª", "–ê–ª–∫–æ–≥–æ–ª—å/–∂–µ–ª—á–µ–≤—ã–≤–æ–¥—è—â–∞—è —Å–∏—Å—Ç–µ–º–∞."),
    "–©–§": ("40‚Äì150 –ï–¥/–ª", "–ö–æ—Å—Ç–∏/–ø–µ—á–µ–Ω—å ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç."),
    "–±–∏–ª–∏—Ä—É–±–∏–Ω –æ–±—â–∏–π": ("5‚Äì21 –º–∫–º–æ–ª—å/–ª", "–ñ–µ–ª—Ç—É—Ö–∞/–ø–µ—á–µ–Ω—å ‚Äî –∫ –≤—Ä–∞—á—É."),
    "–æ–±—â–∏–π –±–µ–ª–æ–∫": ("64‚Äì83 –≥/–ª", "–ü–∏—Ç–∞–Ω–∏–µ/–ø–µ—á–µ–Ω—å/–ø–æ—á–∫–∏."),
    "–∞–ª—å–±—É–º–∏–Ω": ("35‚Äì50 –≥/–ª", "–ë–µ–ª–∫–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å."),
    "–ª–µ–π–∫–æ—Ü–∏—Ç—ã": ("4.0‚Äì9.0 √ó10‚Åπ/–ª", "–í–æ—Å–ø–∞–ª–µ–Ω–∏–µ/–∏–Ω—Ñ–µ–∫—Ü–∏—è ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–æ—Ä–º—É–ª—É."),
    "—ç—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã": ("–º: 4.3‚Äì6.2, –∂: 3.8‚Äì5.5 √ó10¬π¬≤/–ª", "–ö–∏—Å–ª–æ—Ä–æ–¥–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫—Ä–æ–≤–∏."),
    "—Ç—Ä–æ–º–±–æ—Ü–∏—Ç—ã": ("150‚Äì400 √ó10‚Åπ/–ª", "–°–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ ‚Äî –Ω–∏–∑–∫–∏–µ/–≤—ã—Å–æ–∫–∏–µ –∫ –≤—Ä–∞—á—É."),
    "–°–û–≠": ("–º: 2‚Äì15, –∂: 2‚Äì20 –º–º/—á", "–ù–µ—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –º–∞—Ä–∫–µ—Ä –≤–æ—Å–ø–∞–ª–µ–Ω–∏—è."),
    "–¢–¢–ì": ("0.4‚Äì4.0 –º–ï–¥/–ª", "–©–∏—Ç–æ–≤–∏–¥–∫–∞: –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è—Ö –ø—Ä–æ–≤–µ—Ä—è—é—Ç –¢3/–¢4."),
    "—Å–≤–¢4": ("9‚Äì22 –ø–º–æ–ª—å/–ª", "–©–∏—Ç–æ–≤–∏–¥–Ω–∞—è –∂–µ–ª–µ–∑–∞."),
    "—Å–≤–¢3": ("3‚Äì8 –ø–º–æ–ª—å/–ª", "–©–∏—Ç–æ–≤–∏–¥–Ω–∞—è –∂–µ–ª–µ–∑–∞."),
    "–∏–Ω—Å—É–ª–∏–Ω": ("2‚Äì25 –º–∫–ï–¥/–º–ª", "–†–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å/—É–≥–ª–µ–≤–æ–¥–Ω—ã–π –æ–±–º–µ–Ω."),
    "HOMA-IR": ("–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ <2.5", "–ò–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äî –∫ –≤—Ä–∞—á—É."),
    "–°–†–ë": ("<5 –º–≥/–ª", "–í–æ—Å–ø–∞–ª–µ–Ω–∏–µ (–≤—ã—Å–æ–∫–æ—á—É–≤—Å—Ç–≤.)."),
    "—Ñ–∏–±—Ä–∏–Ω–æ–≥–µ–Ω": ("2‚Äì4 –≥/–ª", "–°–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ/–≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ."),
    "D-–¥–∏–º–µ—Ä": ("<0.5 –º–∫–≥/–º–ª FEU", "–¢—Ä–æ–º–±–æ–∑ ‚Äî –æ—Ü–µ–Ω–∫–∞ —Å –≤—Ä–∞—á–æ–º."),
    "–≤–∏—Ç–∞–º–∏–Ω B6": ("5‚Äì50 –Ω–≥/–º–ª", "–ù–∏–∑–∫–∏–π ‚Äî –ø–∏—Ç–∞–Ω–∏–µ."),
    "–≤–∏—Ç–∞–º–∏–Ω B1": ("2.1‚Äì4.3 –º–∫–≥/–¥–ª", "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞/–Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞."),
    "—Ñ–µ—Ä—Ä–∏—Ç–∏–Ω —É –∂–µ–Ω—â–∏–Ω": ("15‚Äì150 –Ω–≥/–º–ª", "–î–µ—Ñ–∏—Ü–∏—Ç ‚Äî —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ —Å–ª–∞–±–æ—Å—Ç–∏."),
    "–û–ú–ï–ì–ê-3 –∏–Ω–¥–µ–∫—Å": (">8%", "–ù–∏–∂–µ ‚Äî –¥–æ–±–∞–≤—å—Ç–µ –∂–∏—Ä–Ω—É—é —Ä—ã–±—É/–æ–º–µ–≥–∞-3 –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é."),
    "—Ü–∏–Ω–∫–∞": ("11‚Äì23 –º–∫–º–æ–ª—å/–ª", "–ò–º–º—É–Ω–∏—Ç–µ—Ç/–∫–æ–∂–∞/–≤–æ–ª–æ—Å—ã."),
    "—Å–µ–ª–µ–Ω": ("‚âà100‚Äì120 –º–∫–≥/–ª", "–ê–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç–Ω–∞—è –∑–∞—â–∏—Ç–∞."),
    "–º–µ–¥—å": ("12‚Äì25 –º–∫–º–æ–ª—å/–ª", "–ë–∞–ª–∞–Ω—Å —Å —Ü–∏–Ω–∫–æ–º."),
    "–∫–∞–ª–∏–π": ("3.5‚Äì5.1 –º–º–æ–ª—å/–ª", "–°–µ—Ä–¥—Ü–µ/–º—ã—à—Ü—ã."),
    "–Ω–∞—Ç—Ä–∏–π": ("135‚Äì145 –º–º–æ–ª—å/–ª", "–í–æ–¥–∞-—Å–æ–ª—å."),
    "—Ö–ª–æ—Ä": ("98‚Äì107 –º–º–æ–ª—å/–ª", "–ö–∏—Å–ª–æ—Ç–Ω–æ-—â–µ–ª–æ—á–Ω–æ–π –±–∞–ª–∞–Ω—Å."),
    "CO2 (–±–∏–∫–∞—Ä–±–æ–Ω–∞—Ç)": ("22‚Äì29 –º–º–æ–ª—å/–ª", "–ö–©–°."),
    "–°–ö–§": (">90 –º–ª/–º–∏–Ω/1.73–º¬≤", "–§—É–Ω–∫—Ü–∏—è –ø–æ—á–µ–∫, —Å—á–∏—Ç–∞—Ç—å –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º."),
    "–ò–ú–¢": ("18.5‚Äì24.9", "–ú–∞—Å—Å–∞ —Ç–µ–ª–∞: <18.5 –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫, 25‚Äì29.9 ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω–∞—è."),
    "–æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Ç–∞–ª–∏–∏": ("–º<94 —Å–º, –∂<80 —Å–º", "–í—ã—à–µ ‚Äî —Ä–∏—Å–∫ –º–µ—Ç–∞–±–æ–ª—Å–∏–Ω–¥—Ä–æ–º–∞."),
    "–≤–∏—Ç–∞–º–∏–Ω A": ("0.3‚Äì0.8 –º–≥/–ª", "–î–µ—Ñ–∏—Ü–∏—Ç ‚Äî –∑—Ä–µ–Ω–∏–µ/–∫–æ–∂–∞."),
    "–≤–∏—Ç–∞–º–∏–Ω E": ("5‚Äì20 –º–≥/–ª", "–ê–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç."),
    "–ì–ª–∏–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–µ–º–æ–≥–ª–æ–±–∏–Ω (HbA1c)": ("<5.7% (–Ω–æ—Ä–º–∞)", "5.7‚Äì6.4% –ø—Ä–µ–¥–¥–∏–∞–±–µ—Ç; ‚â•6.5% –¥–∏–∞–±–µ—Ç (—Å –≤—Ä–∞—á–æ–º)."),
    # ... –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –¥–∞–ª—å—à–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
}

# –°–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ /analysis
ANALYSIS_ALIASES = {
    "hb": "–≥–µ–º–æ–≥–ª–æ–±–∏–Ω",
    "hemoglobin": "–≥–µ–º–æ–≥–ª–æ–±–∏–Ω",
    "glucose": "–≥–ª—é–∫–æ–∑–∞",
    "chol": "—Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –æ–±—â–∏–π",
    "ldl": "–õ–ü–ù–ü",
    "hdl": "–õ–ü–í–ü",
    "tg": "—Ç—Ä–∏–≥–ª–∏—Ü–µ—Ä–∏–¥—ã",
    "vitd": "–≤–∏—Ç–∞–º–∏–Ω D",
    "ttg": "–¢–¢–ì",
    "tsh": "–¢–¢–ì",
    "ft4": "—Å–≤–¢4",
    "ft3": "—Å–≤–¢3",
    "esr": "–°–û–≠",
    "crp": "–°–†–ë",
    "bmi": "–ò–ú–¢",
}

# ========= –î–ê–ù–ù–´–ï: –£–ü–†–ê–ñ–ù–ï–ù–ò–Ø ‚Äî –ì–ï–ù–ï–†–ê–¢–û–† (–¥–∞—ë—Ç —Ç—ã—Å—è—á–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π) =========
WARMUPS = [
    "–°—É—Å—Ç–∞–≤–Ω–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞ 3 –º–∏–Ω", "–õ—ë–≥–∫–∏–π –±–µ–≥ –Ω–∞ –º–µ—Å—Ç–µ 2 –º–∏–Ω", "–ü—Ä—ã–∂–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ 30 —Å–µ–∫ √ó2",
    "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ä—É–∫–∞–º–∏ –∏ –±—ë–¥—Ä–∞–º–∏ 2 –º–∏–Ω", "–°–∫–∞–∫–∞–ª–∫–∞ (–≤–æ–æ–±—Ä–∞–∂–∞–µ–º–∞—è) 1 –º–∏–Ω", "–•–æ–¥—å–±–∞ —Å –≤—ã—Å–æ–∫–∏–º –ø–æ–¥–Ω–∏–º–∞–Ω–∏–µ–º –∫–æ–ª–µ–Ω 1 –º–∏–Ω"
]
MAIN_MOVES = [
    "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è 15", "–í—ã–ø–∞–¥—ã 12/–Ω", "–û—Ç–∂–∏–º–∞–Ω–∏—è 10", "–ü–ª–∞–Ω–∫–∞ 40 —Å–µ–∫", "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è 20",
    "–ë–µ—Ä–ø–∏ 10", "–ì–∏–ø–µ—Ä—ç–∫—Å—Ç–µ–Ω–∑–∏—è (–±–µ–∑ –æ–ø–æ—Ä—ã) 15", "–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç 20", "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –ø—Ä—ã–∂–∫–æ–º 10",
    "–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã 15", "–ü–ª–∞–Ω–∫–∞ –±–æ–∫–æ–≤–∞—è 20 —Å–µ–∫/—Å—Ç–æ—Ä–æ–Ω–∞", "–î–∂–∞–º–ø–∏–Ω–≥ –î–∂–µ–∫ 30 —Å–µ–∫",
    "–ê–ª—å–ø–∏–Ω–∏—Å—Ç 30 —Å–µ–∫", "–°—É–ø–µ—Ä–º–µ–Ω 15", "–†—É—Å—Å–∫–∏–µ —Å–∫—Ä—É—Ç–∫–∏ 20"
]
FINISHERS = [
    "–ü–ª–∞–Ω–∫–∞ 60 —Å–µ–∫", "–î—ã—Ö–∞–Ω–∏–µ 4‚Äì6 1 –º–∏–Ω (—Å–Ω–∏–∂–µ–Ω–∏–µ –ø—É–ª—å—Å–∞)", "–†–∞—Å—Ç—è–∂–∫–∞ –Ω–æ–≥ 2 –º–∏–Ω", "–†–∞—Å—Ç—è–∂–∫–∞ —Å–ø–∏–Ω—ã 2 –º–∏–Ω",
    "–•–æ–¥—å–±–∞ –Ω–∞ –º–µ—Å—Ç–µ 2 –º–∏–Ω", "–ö–æ—à–∫–∞/–∫–æ—Ä–æ–≤–∞ 1 –º–∏–Ω", "–®–∞–≤–∞—Å–∞–Ω–∞ 2 –º–∏–Ω"
]

def build_workout():
    warm = random.choice(WARMUPS)
    main = ", ".join(chunk_unique(MAIN_MOVES, 3))
    fin = random.choice(FINISHERS)
    return f"üèÉ –†–∞–∑–º–∏–Ω–∫–∞: {warm}\nüî• –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫: {main}\n‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ: {fin}"

# ========= –í–û–î–ê/–ë–ò–û–†–ò–¢–ú (–ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞) =========
WATER_GOAL_ML = 2000

# ========= –ö–û–ú–ê–ù–î–´ =========
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = (
        f"üëã –ü—Ä–∏–≤–µ—Ç! –Ø {BOT_NAME}.\n"
        "–ö–æ–º–∞–Ω–¥—ã:\n"
        "/exercise ‚Äî 5 —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–æ–º–ø–ª–µ–∫—Å–æ–≤\n"
        "/meditation ‚Äî 5 —Ç–µ—Ö–Ω–∏–∫ –¥—ã—Ö–∞–Ω–∏—è/–º–µ–¥–∏—Ç–∞—Ü–∏–∏\n"
        "/yoga ‚Äî 5 –ø–æ–∑ –π–æ–≥–∏\n"
        "/nutrition ‚Äî 10 —Å–æ–≤–µ—Ç–æ–≤ –ø–æ –ø–∏—Ç–∞–Ω–∏—é\n"
        "/analysis [–ø–æ–∫–∞–∑–∞—Ç–µ–ª—å] ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ (–Ω–∞–ø—Ä. /analysis –≥–µ–º–æ–≥–ª–æ–±–∏–Ω)\n"
        "/analysislist ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π\n"
        "/water ‚Äî —É—á—ë—Ç –≤–æ–¥—ã (+250 –º–ª)\n"
        "/biorhythm ‚Äî –±–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–Ω—è\n"
        "/help ‚Äî —Å–ø—Ä–∞–≤–∫–∞\n"
    )
    await update.message.reply_text(text)

async def help_cmd(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await start(update, context)

# –ú–Ω–æ–≥–æ –≤—ã–¥–∞—á–∏ –∑–∞ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ:
async def exercise(update: Update, context: ContextTypes.DEFAULT_TYPE):
    packs = [build_workout() for _ in range(5)]
    await update.message.reply_text("\n\n".join(packs))

async def meditation(update: Update, context: ContextTypes.DEFAULT_TYPE):
    items = chunk_unique(BREATH_TECHS, 5)
    await update.message.reply_text(format_list(items, "üßò –î—ã—Ö–∞–Ω–∏–µ/–º–µ–¥–∏—Ç–∞—Ü–∏–∏ (–≤—ã–±–æ—Ä–∫–∞):"))

async def yoga(update: Update, context: ContextTypes.DEFAULT_TYPE):
    items = chunk_unique(YOGA_POSES, 5)
    await update.message.reply_text(format_list(items, "üßò –ô–æ–≥–∞ ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ –æ–¥–Ω–æ–π –ø–æ–∑–µ:"))

# –ü–∏—Ç–∞–Ω–∏–µ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ + —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
async def nutrition(update: Update, context: ContextTypes.DEFAULT_TYPE):
    generated = generate_nutrition_tips(20)  # –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–µ
    fixed = chunk_unique(NUTRITION_BASE, 10)
    tips = fixed + generated
    await update.message.reply_text(format_list(tips, "ü•ó –°–æ–≤–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é (–ø–æ–¥–±–æ—Ä–∫–∞ 30):"))

def _resolve_analysis_key(key: str):
    k = key.strip().lower()
    if k in ANALYSIS:
        return k
    if k in ANALYSIS_ALIASES:
        return ANALYSIS_ALIASES[k]
    # –ø–æ–∏—Å–∫ —á–∞—Å—Ç–∏—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º
    for real in ANALYSIS:
        if k in real:
            return real
    return None

async def analysis(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if context.args:
        key = " ".join(context.args)
        real = _resolve_analysis_key(key)
        if not real:
            await update.message.reply_text("–ù–µ –Ω–∞—à—ë–ª —Ç–∞–∫–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /analysis –≥–µ–º–æ–≥–ª–æ–±–∏–Ω\n–°–ø–∏—Å–æ–∫: /analysislist")
            return
        ref, tip = ANALYSIS[real]
        await update.message.reply_text(f"üß™ {real.capitalize()}\n–ù–æ—Ä–º–∞: {ref}\n–ü–æ–¥—Å–∫–∞–∑–∫–∞: {tip}\n\n‚ö†Ô∏è –≠—Ç–æ –Ω–µ –¥–∏–∞–≥–Ω–æ–∑. –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ–±—Å—É–∂–¥–∞–π—Ç–µ —Å –≤—Ä–∞—á–æ–º.")
    else:
        # –µ—Å–ª–∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å 5 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
        keys = chunk_unique(list(ANALYSIS.keys()), 5)
        blocks = []
        for k in keys:
            ref, tip = ANALYSIS[k]
            blocks.append(f"üß™ {k.capitalize()}\n–ù–æ—Ä–º–∞: {ref}\n–ü–æ–¥—Å–∫–∞–∑–∫–∞: {tip}")
        blocks.append("–ü–æ–¥—Å–∫–∞–∑–∫–∞: –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è ‚Äî /analysis –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, /analysis –≥–µ–º–æ–≥–ª–æ–±–∏–Ω). –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫: /analysislist")
        await update.message.reply_text("\n\n".join(blocks))

async def analysislist(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keys = sorted(list(ANALYSIS.keys()))[:70]  # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–æ–ª—å—à—É—é, –Ω–æ –Ω–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –≤—ã–±–æ—Ä–∫—É
    await update.message.reply_text(format_list(keys, "üìö –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (—Ñ—Ä–∞–≥–º–µ–Ω—Ç):"))

# –£—á—ë—Ç –≤–æ–¥—ã ‚Äî –ø—Ä–æ—Å—Ç–æ–µ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å –≤ RAM (–Ω–∞ —Ñ—Ä–∏-–∏–Ω—Å—Ç–∞–Ω—Å–µ —Ö–≤–∞—Ç–∏—Ç)
# –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –±–µ–∑ –ë–î: —Å–ª–æ–≤–∞—Ä—å {user_id: (date, total_ml)}
water_log = {}

async def water(update: Update, context: ContextTypes.DEFAULT_TYPE):
    uid = update.effective_user.id
    today = date.today()
    total = 0
    if uid in water_log:
        d, val = water_log[uid]
        if d == today:
            total = val
    total += 250
    water_log[uid] = (today, total)
    await update.message.reply_text(f"üíß –û—Ç–º–µ—á–µ–Ω–æ +250 –º–ª. –í—Å–µ–≥–æ —Å–µ–≥–æ–¥–Ω—è: {total} –º–ª (—Ü–µ–ª—å ~{WATER_GOAL_ML} –º–ª).")

async def biorhythm(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è –ø—Å–µ–≤–¥–æ-–æ—Ü–µ–Ω–∫–∞ –ø–æ –¥–∞—Ç–µ
    day_mod = datetime.utcnow().toordinal() % 5
    verdicts = [
        "–°–ø–æ–∫–æ–π–Ω—ã–π –¥–µ–Ω—å ‚Äî –ø–æ–¥–æ–π–¥—ë—Ç –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.",
        "–£–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –¥–µ—Ä–∂–∏ —Ç–µ–º–ø.",
        "–•–æ—Ä–æ—à–∞—è —ç–Ω–µ—Ä–≥–∏—è ‚Äî –º–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.",
        "–ü–∏–∫ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ ‚Äî —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å–µ–≥–æ–¥–Ω—è!",
        "–ë–µ—Ä–µ–∂–Ω—ã–π —Ä–µ–∂–∏–º ‚Äî –±–æ–ª—å—à–µ —Å–Ω–∞ –∏ –≤–æ–¥—ã."
    ]
    await update.message.reply_text(f"üìà –ë–∏–æ—Ä–∏—Ç–º –¥–Ω—è: {verdicts[day_mod]}")

# ========= Flask keepalive =========
app_web = Flask(__name__)

@app_web.route("/")
def home():
    return "OK"

@app_web.route("/healthz")
def health():
    return "OK"

def run_flask():
    port = int(os.getenv("PORT", 10000))
    app_web.run(host="0.0.0.0", port=port)

# ========= –ó–ê–ü–£–°–ö =========
def run_bot():
    token = BOT_TOKEN
    if not token:
        raise RuntimeError("–ù–µ –Ω–∞–π–¥–µ–Ω BOT_TOKEN (Render ‚Üí Environment ‚Üí BOT_TOKEN).")
    app = ApplicationBuilder().token(token).build()

    app.add_handler(CommandHandler("start", start))
    app.add_handler(CommandHandler("help", help_cmd))
    app.add_handler(CommandHandler("exercise", exercise))
    app.add_handler(CommandHandler("meditation", meditation))
    app.add_handler(CommandHandler("yoga", yoga))
    app.add_handler(CommandHandler("nutrition", nutrition))
    app.add_handler(CommandHandler("analysis", analysis))
    app.add_handler(CommandHandler("analysislist", analysislist))
    app.add_handler(CommandHandler("water", water))
    app.add_handler(CommandHandler("biorhythm", biorhythm))

    app.run_polling()

if __name__ == "__main__":
    # –ó–∞–ø—É—Å–∫–∞–µ–º Flask –¥–ª—è keepalive –∏ –±–æ—Ç–∞ ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    threading.Thread(target=run_flask, daemon=True).start()
    run_bot()

